{"version":3,"file":"js/app.7ff7e86c.js","mappings":"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","sources":["webpack://gps/./src/components/BarraLateral.vue","webpack://gps/./src/components/BarraLateral.vue?1998","webpack://gps/./src/components/PerfilCard.vue","webpack://gps/./src/components/PerfilCard.vue?456b","webpack://gps/./src/components/PaswordC.vue","webpack://gps/./src/components/PaswordC.vue?a6e5","webpack://gps/./Back-end/utils/formatearFecha.js","webpack://gps/./src/components/NotificacionN.vue","webpack://gps/./src/components/NotificacionN.vue?f2dc","webpack://gps/./src/components/NavBar.vue","webpack://gps/./src/components/NavBar.vue?01fd","webpack://gps/./src/views/HomeView.vue","webpack://gps/./src/views/HomeView.vue?1da1","webpack://gps/./src/views/TiempoReal.vue","webpack://gps/./src/views/TiempoReal.vue?658e","webpack://gps/./src/views/GeozonasView.vue","webpack://gps/./src/views/GeozonasView.vue?c60e","webpack://gps/./src/views/HistorialView.vue","webpack://gps/./src/views/HistorialView.vue?8bd8","webpack://gps/./src/views/DispositivoView.vue","webpack://gps/./src/views/DispositivoView.vue?7d6c","webpack://gps/./src/views/Reporte2View.vue","webpack://gps/./src/views/Reporte2View.vue?d3aa","webpack://gps/./src/views/RutasView.vue","webpack://gps/./src/views/RutasView.vue?fd1d","webpack://gps/./src/router/index.ts","webpack://gps/./src/components/LoginM.vue","webpack://gps/./src/components/LoginM.vue?0ae0","webpack://gps/./src/App.vue","webpack://gps/./src/App.vue?7ccd","webpack://gps/./src/store/index.ts","webpack://gps/./src/main.ts","webpack://gps/webpack/bootstrap","webpack://gps/webpack/runtime/chunk loaded","webpack://gps/webpack/runtime/compat get default export","webpack://gps/webpack/runtime/create fake namespace object","webpack://gps/webpack/runtime/define property getters","webpack://gps/webpack/runtime/ensure chunk","webpack://gps/webpack/runtime/get javascript chunk filename","webpack://gps/webpack/runtime/get mini-css chunk filename","webpack://gps/webpack/runtime/global","webpack://gps/webpack/runtime/hasOwnProperty shorthand","webpack://gps/webpack/runtime/load script","webpack://gps/webpack/runtime/make namespace object","webpack://gps/webpack/runtime/publicPath","webpack://gps/webpack/runtime/jsonp chunk loading","webpack://gps/webpack/startup"],"sourcesContent":["<template>\r\n  <!-- Importando los estilos de los iconos -->\r\n  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>\r\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\">\r\n  \r\n \r\n  <!-- Barra lateral de navegación -->\r\n  <nav class=\"sidebar\" :class=\"{ close: isSidebarClosed }\">\r\n    <header>\r\n      <!-- Encabezado de la barra lateral -->\r\n      <div class=\"image-text\">\r\n        <span class=\"image\">\r\n          <img :src=\"require('../assets/LP2.png')\" alt=\"\" class=\"logo-claro\">\r\n          <img :src=\"require('../assets/LP.png')\" alt=\"\" class=\"logo-oscuro\">\r\n        </span>\r\n        <span class=\"beta\" v-if=\"isBetaVisible\">\r\n          <h2>beta</h2>\r\n        </span>\r\n\r\n        <div class=\"logo-text\">\r\n          <span class=\"name\"></span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Icono para alternar la barra lateral -->\r\n      <i class='bx bx-chevron-right toggle' @click=\"toggleSidebar\"></i>\r\n    </header>\r\n\r\n    <!-- Menú de la barra lateral -->\r\n    <div class=\"menu-bar\">\r\n      <div class=\"menu\">\r\n        <ul class=\"menu-links\">\r\n          <!-- Enlaces del menú -->\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/home\">\r\n              <i class='bx bx-home-alt icon'></i>\r\n              <span class=\"text nav-text\">Inicio</span>\r\n            </router-link>\r\n          </li>\r\n\r\n\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/dispositivo\">\r\n              <i class='bx bx-car icon'></i>\r\n              <span class=\"text nav-text\">Dispositivo</span>\r\n            </router-link>\r\n          </li>\r\n\r\n\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/tiempo_real\">\r\n              <i class='bx bx-navigation icon'></i>\r\n              <span class=\"text nav-text\">Tiempo real</span>\r\n            </router-link>\r\n          </li>\r\n\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/geozona\">\r\n              <i class='bx bx-map-alt icon'></i>\r\n              <span class=\"text nav-text\">Geozonas</span>\r\n            </router-link>\r\n          </li>\r\n\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/rutas\">\r\n              <i class='bx bx-trending-up icon'></i>\r\n              <span class=\"text nav-text\">Rutas</span>\r\n            </router-link>\r\n          </li>\r\n\r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/historial\">\r\n              <i class='bx bx-history icon'></i>\r\n              <span class=\"text nav-text\">Historial</span>\r\n            </router-link>\r\n          </li>\r\n          \r\n          <li class=\"nav-link\">\r\n            <router-link to=\"/reporte2\" @click=\"toggleReportDropdown\">\r\n              <i class='bx bxs-user-account icon'></i>\r\n              <span class=\"text nav-text\">Reporte</span>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <!-- Contenido inferior de la barra lateral -->\r\n      <div class=\"bottom-content\">\r\n        <!-- Enlace para cerrar sesión -->\r\n        <li>\r\n          <router-link to=\"/cerrar-sesion\">\r\n            <i @click=\"logout\" class='bx bx-log-out icon'></i>\r\n            <span class=\"text nav-text\" @click=\"logout\" >Cerrar Sesión</span>\r\n          </router-link>\r\n        </li>\r\n\r\n        <!-- Modo claro/oscuro -->\r\n        <li class=\"mode\">\r\n          <div class=\"sun-moon\">\r\n            <i class='bx bx-moon icon moon'></i>\r\n            <i class='bx bx-sun icon sun'></i>\r\n          </div>\r\n          <span class=\"mode-text text\">{{ modeText }}</span>\r\n\r\n          <!-- Interruptor para alternar entre modos -->\r\n          <div class=\"toggle-switch\" @click=\"toggleDarkMode\">\r\n            <span class=\"switch\"></span>\r\n          </div>\r\n        </li>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n\r\n  <!-- Vista de enrutamiento -->\r\n  <router-view/>\r\n</template>\r\n\r\n<script setup>\r\nimport '../styles_App/App.css';\r\nimport { ref } from 'vue';\r\n\r\n// Variables reactivas\r\nconst isSidebarClosed = ref(true);\r\nconst isDarkMode = ref(false);\r\nlet modeText = ref(\"Dark mode\");\r\nconst isReportDropdownOpen = ref(false);\r\nconst isBetaVisible = ref(false);\r\n\r\n\r\n// Función para alternar el estado de la barra lateral\r\nfunction toggleSidebar() {\r\n  isSidebarClosed.value = !isSidebarClosed.value;\r\n  \r\n  // Cerrar el submenú de reporte al cerrar la barra lateral\r\n  if (isSidebarClosed.value) {\r\n    isReportDropdownOpen.value = false;\r\n  }\r\n\r\n  if (isSidebarClosed.value) {\r\n    isBetaVisible.value = false;\r\n  }else{\r\n    isBetaVisible.value = true;\r\n  }\r\n}\r\n\r\n// Función para alternar el modo claro/oscuro\r\nfunction toggleDarkMode() {\r\n  isDarkMode.value = !isDarkMode.value;\r\n  modeText.value = isDarkMode.value ? \"Light mode\" : \"Dark mode\";\r\n  document.body.classList.toggle(\"dark\", isDarkMode.value);\r\n}\r\n\r\n// Función para cerrar la barra lateral al hacer clic fuera de ella\r\nfunction closeSidebarOnClickOutside(event) {\r\n  const sidebar = document.querySelector(\".sidebar\");\r\n  const toggle = document.querySelector(\".toggle\");\r\n  const dropdown = document.querySelector(\".dropdown2\");\r\n\r\n  if (!sidebar.contains(event.target) && !toggle.contains(event.target) && (!dropdown || !dropdown.contains(event.target))) {\r\n    isSidebarClosed.value = true;\r\n    isReportDropdownOpen.value = false;\r\n    isBetaVisible.value = false;\r\n  }\r\n}\r\n\r\n// Evento para cerrar la barra lateral al hacer clic fuera de ella\r\ndocument.addEventListener(\"click\", closeSidebarOnClickOutside);\r\n\r\nconst logout = () => {\r\n  // Cambia sessionStorage por localStorage\r\n  localStorage.removeItem('isAuthenticated');\r\n  window.location.reload();\r\n};\r\n\r\nfunction toggleReportDropdown() {\r\n  isReportDropdownOpen.value = !isReportDropdownOpen.value;\r\n}\r\n</script>\r\n\r\n","import script from \"./BarraLateral.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BarraLateral.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <Transition name=\"modal-fade\">\r\n      <div class=\"modal-overlay\" @click=\"close\">\r\n        <div class=\"modal-content\" @click.stop>\r\n          <div class=\"modal-header\">\r\n            <div class=\"profile-image-container\">\r\n              <div class=\"profile-image\"></div>\r\n              <label class=\"image-upload-label\" title=\"Change profile picture\">\r\n                <input type=\"file\" @change=\"handleImageUpload\" accept=\"image/*\" class=\"hidden-input\" />\r\n                <svg class=\"edit-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                  <path d=\"M12 5v14M5 12h14\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n                </svg>\r\n              </label>\r\n            </div>\r\n            <button class=\"close-button\" @click=\"close\" aria-label=\"Close\">\r\n              <svg viewBox=\"0 0 24 24\">\r\n                <path d=\"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"modal-body\">\r\n            <h1>Jesus Alvarez</h1>\r\n            <div class=\"badge\">Administrador</div>\r\n            <p class=\"bio\">\r\n              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consectetur illum sapiente\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Transition>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { defineEmits, ref } from 'vue';\r\n  const emit = defineEmits(['close']);\r\n  import Swal from 'sweetalert2';\r\n  \r\n  const close = () => {\r\n    const modalContent = document.querySelector('.modal-content');\r\n    modalContent.classList.add('fade-out');\r\n    setTimeout(() => {\r\n        emit('close');\r\n    }, 300);\r\n  };\r\n  \r\n  const handleImageUpload = (event) => {\r\n    const input = event.target;\r\n    if (input.files && input.files[0]) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        if (e.target.result) {\r\n          const profileImage = document.querySelector('.profile-image');\r\n          profileImage.style.backgroundImage = `url(${e.target.result})`;\r\n        }\r\n      };\r\n      reader.readAsDataURL(input.files[0]);\r\n    }\r\n  };\r\n  \r\n  const email = ref('');\r\n  const isEmailVerified = ref(false);\r\n  \r\n  const sendVerification = () => {\r\n    if (!email.value) {\r\n      Swal.fire('Error', 'Por favor ingresa un correo electrónico antes de enviar la verificación.', 'error');\r\n      return;\r\n    }\r\n    \r\n    // Aquí puedes agregar la lógica para enviar el correo de verificación\r\n    console.log(`Enviando verificación a: ${email.value}`);\r\n    \r\n    // Simulación de verificación exitosa\r\n    isEmailVerified.value = true; // Cambiar a true cuando el correo ha sido verificado\r\n    Swal.fire('Éxito', 'Correo Guardado', 'success');\r\n  };\r\n  \r\n  const changePassword = () => {\r\n    if (!isEmailVerified.value) {\r\n      Swal.fire('Error', 'Debes verificar tu correo electrónico antes de cambiar la contraseña.', 'error');\r\n      return;\r\n    }\r\n\r\n    // Mostrar SweetAlert para cambiar la contraseña\r\n    Swal.fire({\r\n      title: 'Cambiar Contraseña',\r\n      confirmButtonText: \"Cambiar Contraseña\",\r\n      html: `\r\n        <input type=\"password\" id=\"currentPassword\" class=\"swal2-input\" placeholder=\"Clave Actual\">\r\n        <input type=\"password\" id=\"newPassword\" class=\"swal2-input\" placeholder=\"Nueva Contraseña\">\r\n        <input type=\"password\" id=\"confirmNewPassword\" class=\"swal2-input\" placeholder=\"Confirmar Nueva Contraseña\">\r\n      `,\r\n      focusConfirm: false,\r\n      preConfirm: () => {\r\n        const currentPassword = document.getElementById('currentPassword').value;\r\n        const newPassword = document.getElementById('newPassword').value;\r\n        const confirmNewPassword = document.getElementById('confirmNewPassword').value;\r\n        if (!currentPassword || !newPassword || !confirmNewPassword || newPassword !== confirmNewPassword) {\r\n          Swal.showValidationMessage('Por favor ingresa todos los campos y asegurate de que las contraseñas coincidan');\r\n          return false;\r\n        }\r\n        return { currentPassword, newPassword };\r\n      }\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // Aquí puedes agregar la lógica para cambiar la contraseña\r\n        console.log(`Clave actual: ${result.value.currentPassword}, Nueva clave: ${result.value.newPassword}`);\r\n      }\r\n    });\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.7);\r\n    backdrop-filter: blur(5px);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 100;\r\n  }\r\n  \r\n  .modal-content {\r\n    background: linear-gradient(145deg, #ffffff, #f5f5f5);\r\n    width: 90%;\r\n    max-width: 500px;\r\n    border-radius: 24px;\r\n    box-shadow: \r\n      0 20px 25px -5px rgba(0, 0, 0, 0.1),\r\n      0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n    position: relative;\r\n    overflow: hidden;\r\n    animation: fadeIn 0.5s;\r\n  }\r\n  \r\n  .modal-header {\r\n    position: relative;\r\n    height: 150px;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    border-radius: 24px 24px 0 0;\r\n  }\r\n  \r\n  .profile-image-container {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, 50%);\r\n  }\r\n  \r\n  .profile-image {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n    background-image: url('../assets/perfilF.jpg');\r\n    background-size: cover;\r\n    background-position: center;\r\n    border: 4px solid white;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .image-upload-label {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 8px;\r\n    background: #764ba2;\r\n    border-radius: 50%;\r\n    width: 32px;\r\n    height: 32px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    border: 2px solid white;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .image-upload-label:hover {\r\n    transform: scale(1.1);\r\n    background: #667eea;\r\n  }\r\n  \r\n  .hidden-input {\r\n    display: none;\r\n  }\r\n  \r\n  .edit-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n    color: white;\r\n  }\r\n  \r\n  .close-button {\r\n    position: absolute;\r\n    top: 16px;\r\n    right: 16px;\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border: none;\r\n    border-radius: 50%;\r\n    width: 32px;\r\n    height: 32px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n  }\r\n  \r\n  .close-button:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n  }\r\n  \r\n  .close-button svg {\r\n    width: 20px;\r\n    height: 20px;\r\n    fill: white;\r\n  }\r\n  \r\n  .modal-body {\r\n    padding: 80px;\r\n    text-align: center;\r\n    background: rgba(255, 255, 255, 0.8);\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  h1 {\r\n    color: #1a1a1a;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    margin: 0 0 8px;\r\n  }\r\n  \r\n  .badge {\r\n    display: inline-block;\r\n    background: #764ba2;\r\n    color: white;\r\n    padding: 4px 12px;\r\n    border-radius: 16px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .bio {\r\n    color: #666;\r\n    font-size: 16px;\r\n    line-height: 1.5;\r\n    margin-bottom: 24px;\r\n  }\r\n  \r\n  .stats {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 32px;\r\n    margin-bottom: 24px;\r\n  }\r\n  \r\n  .stat {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  \r\n  .stat-value {\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    color: #1a1a1a;\r\n  }\r\n  \r\n  .stat-label {\r\n    font-size: 14px;\r\n    color: #666;\r\n    margin-top: 4px;\r\n  }\r\n  \r\n  .actions {\r\n    display: flex;\r\n    gap: 12px;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .action-button {\r\n    padding: 8px 24px;\r\n    border-radius: 20px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    transition: transform 0.2s, box-shadow 0.2s;\r\n  }\r\n  \r\n  .action-button:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .action-button.primary {\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: white;\r\n    border: none;\r\n  }\r\n  \r\n  .action-button.secondary {\r\n    background: white;\r\n    color: #764ba2;\r\n    border: 2px solid #764ba2;\r\n  }\r\n  \r\n\r\n  .modal-fade-enter-active,\r\n  .modal-fade-leave-active {\r\n    transition: opacity 0.3s ease;\r\n  }\r\n  \r\n  .modal-fade-enter-from,\r\n  .modal-fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n  \r\n  .modal-fade-enter-active .modal-content {\r\n    animation: modal-in 0.3s ease-out;\r\n  }\r\n  \r\n  .modal-fade-leave-active .modal-content {\r\n    animation: modal-out 0.3s ease-in;\r\n  }\r\n  \r\n  @keyframes modal-in {\r\n    from {\r\n      transform: translateY(20px);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  \r\n  @keyframes modal-out {\r\n    from {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      transform: translateY(20px);\r\n      opacity: 0;\r\n    }\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    from {\r\n        opacity: 0;\r\n        transform: translateY(-20px);\r\n    }\r\n    to {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  .fade-out {\r\n    animation: fadeOut 0.3s ease forwards;\r\n  }\r\n  \r\n  @keyframes fadeOut {\r\n    from {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n    to {\r\n        opacity: 0;\r\n        transform: translateY(20px);\r\n    }\r\n  }\r\n  \r\n  .email-container {\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .email-container input {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ccc;\r\n  }\r\n  </style>","import script from \"./PerfilCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PerfilCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PerfilCard.vue?vue&type=style&index=0&id=7320e8aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7320e8aa\"]])\n\nexport default __exports__","<template>\r\n    <Transition name=\"modal-fade\">\r\n      <div class=\"modal-overlay\" @click=\"close\">\r\n        <div class=\"modal-content\" @click.stop>\r\n          <div class=\"modal-header\">\r\n            <div class=\"candado\"></div>\r\n            <button class=\"close-button\" @click=\"close\" aria-label=\"Close\">\r\n              <svg viewBox=\"0 0 24 24\">\r\n                <path d=\"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"changePassword\">\r\n              <div class=\"form-group\">\r\n                <label for=\"current-password\">Contraseña Actual</label>\r\n                <input type=\"password\" id=\"current-password\" v-model=\"currentPassword\" required />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"new-password\">Nueva Contraseña</label>\r\n                <input type=\"password\" id=\"new-password\" v-model=\"newPassword\" required />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"confirm-password\">Confirmar Nueva Contraseña</label>\r\n                <input type=\"password\" id=\"confirm-password\" v-model=\"confirmPassword\" required />\r\n              </div>\r\n              <button type=\"submit\" class=\"action-button primary\" @click.prevent=\"changePassword\">Cambiar Contraseña</button>\r\n              <button type=\"button\" class=\"action-button primary\" @click=\"addEmail\">Agregar Correo</button>\r\n              \r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Transition>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import Swal from 'sweetalert2';\r\nimport { defineEmits, ref } from 'vue';\r\n  const emit = defineEmits(['close']);\r\n  \r\n  const currentPassword = ref('');\r\n  const newPassword = ref('');\r\n  const confirmPassword = ref('');\r\n  const email = ref('');\r\n\r\n  const changePassword = () => {\r\n    \r\n    if (newPassword.value === confirmPassword.value && !email.value) {\r\n      Swal.fire({\r\n        title: 'Error',\r\n        text: 'Correo no ingresado',\r\n        icon: 'error'\r\n      });\r\n    } else {\r\n      console.log('Contraseña cambiada');\r\n      emit('close');\r\n    }\r\n  };\r\n\r\n  const addEmail = () => {\r\n    Swal.fire({\r\n      title: 'Agregar Correo',\r\n      icon: 'info',\r\n      html: ` \r\n      <input id=\"email\" class=\"swal2-input\" placeholder=\"Correo\" value=\"${email.value}\">\r\n      `,\r\n      confirmButtonText: 'OK',\r\n      preConfirm: () => {\r\n        email.value = document.getElementById('email').value;\r\n        console.log(email.value);\r\n      }\r\n    });\r\n  };\r\n\r\n  const close = () => {\r\n    const modalContent = document.querySelector('.modal-content');\r\n    modalContent.classList.add('fade-out');\r\n    setTimeout(() => {\r\n        emit('close');\r\n    }, 300);\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.7);\r\n    backdrop-filter: blur(5px);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 100;\r\n  }\r\n  \r\n  .modal-content {\r\n    background: #ffffff;\r\n    border: 2px solid #764ba2;\r\n    box-shadow: \r\n      0 10px 20px rgba(0, 0, 0, 0.2),\r\n      0 5px 10px rgba(0, 0, 0, 0.1);\r\n    width: 90%;\r\n    max-width: 500px;\r\n    border-radius: 24px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    animation: fadeIn 0.5s;\r\n  }\r\n  \r\n  .modal-header {\r\n    position: relative;\r\n    height: 150px;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    border-radius: 24px 24px 0 0;\r\n  }\r\n\r\n  .candado{\r\n    background-color: #5a6abf;\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 50%;\r\n    background-image: url('../assets/candado.jpg');\r\n    background-size: cover;\r\n  }\r\n  \r\n  .profile-image-container {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, 50%);\r\n  }\r\n  \r\n  .profile-image {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n    background-image: url('../assets/perfilF.jpg');\r\n    background-size: cover;\r\n    background-position: center;\r\n    border: 4px solid white;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .image-upload-label {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 8px;\r\n    background: #764ba2;\r\n    border-radius: 50%;\r\n    width: 32px;\r\n    height: 32px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    border: 2px solid white;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .image-upload-label:hover {\r\n    transform: scale(1.1);\r\n    background: #667eea;\r\n  }\r\n  \r\n  .hidden-input {\r\n    display: none;\r\n  }\r\n  \r\n  .edit-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n    color: white;\r\n  }\r\n  \r\n  .close-button {\r\n    position: absolute;\r\n    top: 16px;\r\n    right: 16px;\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border: none;\r\n    border-radius: 50%;\r\n    width: 32px;\r\n    height: 32px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n  }\r\n  \r\n  .close-button:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n  }\r\n  \r\n  .close-button svg {\r\n    width: 20px;\r\n    height: 20px;\r\n    fill: white;\r\n  }\r\n  \r\n  .modal-body {\r\n    padding: 80px;\r\n    text-align: center;\r\n    background: rgba(255, 255, 255, 0.8);\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  h1 {\r\n    color: #1a1a1a;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    margin: 0 0 8px;\r\n  }\r\n  \r\n  .badge {\r\n    display: inline-block;\r\n    background: #764ba2;\r\n    color: white;\r\n    padding: 4px 12px;\r\n    border-radius: 16px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .bio {\r\n    color: #666;\r\n    font-size: 16px;\r\n    line-height: 1.5;\r\n    margin-bottom: 24px;\r\n  }\r\n  \r\n  .stats {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 32px;\r\n    margin-bottom: 24px;\r\n  }\r\n  \r\n  .stat {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  \r\n  .stat-value {\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    color: #1a1a1a;\r\n  }\r\n  \r\n  .stat-label {\r\n    font-size: 14px;\r\n    color: #666;\r\n    margin-top: 4px;\r\n  }\r\n  \r\n  .actions {\r\n    display: flex;\r\n    gap: 12px;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .action-button {\r\n    padding: 8px 24px;\r\n    border-radius: 20px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    transition: transform 0.2s, box-shadow 0.2s;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .action-button:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .action-button.primary {\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: white;\r\n    border: none;\r\n    transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;\r\n  }\r\n  \r\n  .action-button.primary:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\r\n    background-color: #5a6abf;\r\n  }\r\n  \r\n  .action-button.secondary {\r\n    background: white;\r\n    color: #764ba2;\r\n    border: 2px solid #764ba2;\r\n    transition: transform 0.2s, box-shadow 0.2s;\r\n  }\r\n  \r\n  .action-button.secondary:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n\r\n  .modal-fade-enter-active,\r\n  .modal-fade-leave-active {\r\n    transition: opacity 0.3s ease;\r\n  }\r\n  \r\n  .modal-fade-enter-from,\r\n  .modal-fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n  \r\n  .modal-fade-enter-active .modal-content {\r\n    animation: modal-in 0.3s ease-out;\r\n  }\r\n  \r\n  .modal-fade-leave-active .modal-content {\r\n    animation: modal-out 0.3s ease-in;\r\n  }\r\n  \r\n  @keyframes modal-in {\r\n    from {\r\n      transform: translateY(20px);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  \r\n  @keyframes modal-out {\r\n    from {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      transform: translateY(20px);\r\n      opacity: 0;\r\n    }\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    from {\r\n        opacity: 0;\r\n        transform: translateY(-20px);\r\n    }\r\n    to {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  .fade-out {\r\n    animation: fadeOut 0.3s ease forwards;\r\n  }\r\n  \r\n  @keyframes fadeOut {\r\n    from {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n    to {\r\n        opacity: 0;\r\n        transform: translateY(20px);\r\n    }\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .form-group label {\r\n    display: block;\r\n    margin-bottom: 4px;\r\n    color: #1a1a1a;\r\n  }\r\n\r\n  .form-group input {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n  }\r\n  </style>","import script from \"./PaswordC.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PaswordC.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PaswordC.vue?vue&type=style&index=0&id=f60fd1f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f60fd1f6\"]])\n\nexport default __exports__","export function formatDate(fechaInicial) {\r\n    // Convertir a un objeto Date\r\n    const fecha = new Date(fechaInicial);\r\n\r\n    // Obtener componentes de la fecha\r\n    const year = fecha.getFullYear();\r\n    const month = String(fecha.getMonth() + 1).padStart(2, '0'); // Mes comienza en 0\r\n    const day = String(fecha.getDate()).padStart(2, '0');\r\n    const hours = String(fecha.getHours() % 12 || 12).padStart(2, '0'); // Formato de 12 horas\r\n    const minutes = String(fecha.getMinutes()).padStart(2, '0');\r\n    const seconds = String(fecha.getSeconds()).padStart(2, '0');\r\n    const ampm = fecha.getHours() >= 12 ? 'PM' : 'AM';\r\n\r\n    // Combinar en el formato deseado\r\n    return `${year}/${month}/${day} ${hours}:${minutes}:${seconds} ${ampm}`;\r\n}\r\nexport function utc(fechaColombia) {\r\n    // Crear un objeto Date con la fecha en horario colombiano (UTC-5)\r\n    const fechaLocal = new Date(fechaColombia);\r\n\r\n    // Obtener la diferencia de la zona horaria local con UTC en minutos\r\n    const diferenciaUTC = 5 * 60; // Colombia está en UTC-5\r\n\r\n    // Ajustar la fecha al horario UTC\r\n    const fechaUTC = new Date(fechaLocal.getTime() + diferenciaUTC * 60 * 1000);\r\n\r\n    return fechaUTC.toISOString(); // Devuelve la fecha en formato ISO\r\n}\r\n","<template>\r\n    <div class=\"notification-container\">\r\n        <div class=\"notification-header\">\r\n            <div class=\"header-content\">\r\n                <h1 class=\"title\">\r\n                    <i class='bx bx-bell'></i>\r\n                    Notificaciones\r\n                </h1>\r\n                <span class=\"unread-count\">{{ notifications.length }}</span>\r\n            </div>\r\n            <button class=\"menu-button\" @click=\"toggleMenu\" :class=\"{ 'active': showMenu }\">\r\n                <i class='bx bx-dots-vertical-rounded'></i>\r\n            </button>\r\n        </div>\r\n\r\n        <Transition name=\"fade\">\r\n            <div v-if=\"showMenu\" class=\"menu-overlay\" @click=\"toggleMenu\"></div>\r\n        </Transition>\r\n\r\n        <Transition name=\"slide\">\r\n            <div v-if=\"showMenu\" class=\"menu-panel\">\r\n                <div class=\"menu-header\">Opciones</div>\r\n                <div class=\"menu-items\">\r\n                    <a href=\"#\" @click.prevent=\"clearNotifications\" class=\"menu-item\">\r\n                        <i class='bx bx-trash'></i>\r\n                        <span>Limpiar todo</span>\r\n                    </a>\r\n                    <router-link to=\"/reporte2\" class=\"menu-item\">\r\n                        <i class='bx bx-folder-open'></i>\r\n                        <span>Ver historial</span>\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n        </Transition>\r\n\r\n        <div class=\"notifications-wrapper\">\r\n            <TransitionGroup name=\"notification\" tag=\"ul\" class=\"notifications-list\">\r\n                <li v-for=\"(notification, index) in notifications\" :key=\"index\" class=\"notification-item\"\r\n                    :class=\"{ 'unread': !notification.read }\">\r\n                    <div class=\"notification-icon\">\r\n                        <i class='bx bx-message-rounded-dots'></i>\r\n                    </div>\r\n                    <div class=\"notification-content\">\r\n                        <div class=\"notification-text\">{{ notification.notificationName }}</div>\r\n                        <div class=\"notification-time\">{{formatDate(utc(notification.notificationTime) ) }}</div>\r\n                    </div>\r\n                    <button class=\"notification-action\" @click=\"markAsRead(index)\">\r\n                        <i class='bx bx-check'></i>\r\n                    </button>\r\n                </li>\r\n            </TransitionGroup>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport iziToast from 'izitoast';\r\nimport  { formatDate, utc } from '../../Back-end/utils/formatearFecha';\r\nconst notifications = ref([]);\r\n\r\nconst showMenu = ref(false);\r\n\r\nconst toggleMenu = () => {\r\n    showMenu.value = !showMenu.value;\r\n};\r\n\r\nconst markAsRead = (index) => {\r\n    notifications.value[index].read = true;\r\n};\r\n\r\nconst cargarNotificaciones = async () => {\r\n    try {\r\n        const response = await fetch('http://3.12.147.103/notificaciones');\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Error del servidor:', errorText);\r\n            return;\r\n        }\r\n        const data = await response.json();\r\n        console.log(data); // Verifica los datos recibidos\r\n\r\n        // Filtrar nuevas alertas\r\n        const nuevasAlertas = data.filter(alerta => !notifications.value.some(a => a._id === alerta._id));\r\n        if (nuevasAlertas.length > 0) {\r\n            notifications.value = [...notifications.value, ...nuevasAlertas];\r\n        }\r\n\r\n        // Ordenar las notificaciones por fecha en orden descendente\r\n        notifications.value.sort((a, b) => new Date(b.notificationTime) - new Date(a.notificationTime));\r\n\r\n        // Mostrar alerta si hay una alerta en la respuesta\r\n    } catch (error) {\r\n        console.error('Error al cargar notificaciones:', error);\r\n    }\r\n};\r\n\r\nconst clearNotifications = async () => {\r\n    try {\r\n        await fetch('http://3.12.147.103/notificaciones', {\r\n            method: 'DELETE'\r\n        });\r\n        notifications.value = [];\r\n    } catch (error) {\r\n        console.error('Error al eliminar notificaciones:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    cargarNotificaciones();\r\n\r\n    let ws = new WebSocket('ws://3.12.147.103');\r\n    ws.onmessage = (event) => {\r\n    \r\n        const notificacion = JSON.parse(event.data);\r\n        if (!notifications.value.some(alert => alert._id === notificacion._id)) {\r\n            notifications.value.push(notificacion);\r\n        }\r\n        if(event){\r\n            cargarNotificaciones();\r\n        }\r\n    };\r\n    ws.onclose = () => {\r\n        console.log('WebSocket cerrado. Reintentando...');\r\n        setTimeout(() => {\r\n            const newWs = new WebSocket('ws://3.12.147.103');\r\n            ws = newWs;\r\n        }, 5000);\r\n    };\r\n    ws.onerror = (error) => {\r\n        console.error('Error en WebSocket:', error);\r\n    };\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.notification-container {\r\n    position: fixed;\r\n    top: 48%;\r\n    left: 80%;\r\n    transform: translate(-50%, -50%);\r\n    width: 380px;\r\n    height: 600px;\r\n    background: var(--body-color);\r\n    border-radius: 24px;\r\n    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n    animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);\r\n    z-index: 999;\r\n}\r\n\r\n.notification-header {\r\n    padding: 24px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-bottom: 1px solid #f0f0f0;\r\n    background: var(--body-color);\r\n}\r\n\r\n.header-content {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n}\r\n\r\n.title {\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: var(--text-color);\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.title i {\r\n    font-size: 24px;\r\n    color: var(--text-color);\r\n}\r\n\r\n.unread-count {\r\n    background: var(--text-color);\r\n    color: var(--body-color);\r\n    padding: 2px 8px;\r\n    border-radius: 12px;\r\n    font-size: 12px;\r\n    font-weight: 500;\r\n}\r\n\r\n.menu-button {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: var(--text-color);\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.menu-button:hover {\r\n    background: var(--body-color);\r\n}\r\n\r\n.menu-button.active {\r\n    color: var(--text-color);\r\n    background: var(--body-color);\r\n}\r\n\r\n.menu-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.menu-panel {\r\n    position: absolute;\r\n    top: 80px;\r\n    right: 24px;\r\n    width: 200px;\r\n    background: var(--body-color);\r\n    border-radius: 16px;\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n    z-index: 101;\r\n    overflow: hidden;\r\n}\r\n\r\n.menu-header {\r\n    padding: 16px;\r\n    font-weight: 600;\r\n    color: var(--text-color);\r\n    border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.menu-items {\r\n    padding: 8px;\r\n}\r\n\r\n.menu-item {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n    padding: 12px;\r\n    color: var(--text-color);\r\n    text-decoration: none;\r\n    border-radius: 8px;\r\n    transition: all 0.2s ease;\r\n    \r\n}\r\n\r\n.menu-item:hover {\r\n    background: var(--body-color);\r\n    color: var(--text-color);\r\n}\r\n\r\n.notifications-wrapper {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    padding: 16px;\r\n}\r\n\r\n.notifications-list {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n\r\n\r\n.notification-item {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 16px;\r\n    padding: 16px;\r\n    margin-bottom: 8px;\r\n    background: var(--body-color);\r\n    border-radius: 16px;\r\n    border: 1px solid var(--text-color);\r\n    transition: all 0.3s ease;\r\n    animation: slideIn 0.5s ease forwards;\r\n}\r\n\r\n.notification-item:hover {\r\n    transform: translateX(4px);\r\n}\r\n\r\n.notification-item.unread {\r\n    background: var(--body-color);\r\n    border-color: var(--text-color);\r\n}\r\n\r\n.notification-icon {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background: var(--body-color);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: var(--text-color);\r\n    font-size: 20px;\r\n}\r\n\r\n.notification-content {\r\n    flex: 1;\r\n}\r\n\r\n.notification-text {\r\n    color: var(--text-color);\r\n    font-size: 14px;\r\n    margin-bottom: 4px;\r\n}\r\n\r\n.notification-time {\r\n    color: var(--text-color);\r\n    font-size: 12px;\r\n}\r\n\r\n.notification-action {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    background: transparent;\r\n    color: var(--text-color);\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.2s ease;\r\n    opacity: 0;\r\n}\r\n\r\n.notification-item:hover .notification-action {\r\n    opacity: 1;\r\n}\r\n\r\n.notification-action:hover {\r\n    background: var(--body-color);\r\n    color: var(--text-color);\r\n}\r\n\r\n/* Animaciones */\r\n@keyframes slideUp {\r\n    from {\r\n        opacity: 0;\r\n        transform: translate(-50%, -40%);\r\n    }\r\n\r\n    to {\r\n        opacity: 1;\r\n        transform: translate(-50%, -50%);\r\n    }\r\n}\r\n\r\n@keyframes slideIn {\r\n    from {\r\n        opacity: 0;\r\n        transform: translateX(-20px);\r\n    }\r\n\r\n    to {\r\n        opacity: 1;\r\n        transform: translateX(0);\r\n    }\r\n}\r\n\r\n/* Transiciones */\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n    transition: opacity 0.3s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\n    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);\r\n}\r\n\r\n.slide-enter-from,\r\n.slide-leave-to {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n}\r\n\r\n.notification-enter-active,\r\n.notification-leave-active {\r\n    transition: all 0.5s ease;\r\n}\r\n\r\n.notification-enter-from {\r\n    opacity: 0;\r\n    transform: translateX(-30px);\r\n}\r\n\r\n.notification-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(30px);\r\n}\r\n\r\n/* Scrollbar */\r\n.notifications-wrapper::-webkit-scrollbar {\r\n    width: 6px;\r\n}\r\n\r\n.notifications-wrapper::-webkit-scrollbar-track {\r\n    background: transparent;\r\n}\r\n\r\n.notifications-wrapper::-webkit-scrollbar-thumb {\r\n    background: #e0e0e0;\r\n    border-radius: 3px;\r\n}\r\n\r\n.notifications-wrapper::-webkit-scrollbar-thumb:hover {\r\n    background: #d0d0d0;\r\n}\r\n</style>","import script from \"./NotificacionN.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NotificacionN.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NotificacionN.vue?vue&type=style&index=0&id=2f208573&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f208573\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"navar\">\r\n        <div class=\"text\">\r\n            <h1 class=\"titulo\">{{ displayedText }}</h1>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <!-- Icono de notificación con indicador -->\r\n            <router-link to=\"#\"  @click.prevent=\"toggleNotificationModal\">\r\n                <button class=\"notification-btn\">\r\n                    <i class='bx bx-bell'></i>\r\n                    <span class=\"notification-indicator\"></span>\r\n                </button>\r\n            </router-link>\r\n            <!-- Menú desplegable de configuración mejorado -->\r\n            <div class=\"dropdown\">\r\n                <button class=\"dropbtn\" @click=\"toggleDropdown\">\r\n                    <i class='bx bx-cog confi'></i> Configuración\r\n                    <i class='bx bx-chevron-down'></i>\r\n                </button>\r\n                <div class=\"dropdown-content\" :class=\"{ 'show': dropdownOpen }\">\r\n                    <router-link to=\"#\" class=\"dropdown-item\" @click.prevent=\"toggleProfileCard\">\r\n                        <i class='bx bx-user-circle'></i>\r\n                        <span>Perfil</span>\r\n                    </router-link>\r\n                    <router-link to=\"#\" class=\"dropdown-item\" @click.prevent=\"togglePaswordCard\">\r\n                        <i class='bx bx-lock-alt'></i>\r\n                        <span>Contraseña</span>\r\n                    </router-link>\r\n                    <router-link to=\"/privacidad\" class=\"dropdown-item\">\r\n                        <i class='bx bx-user-x'></i>\r\n                        <span>Privacidad</span>\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <PerfilCard v-if=\"showProfileCard\" @close=\"toggleProfileCard\" />\r\n    <PaswordC v-if=\"showPaswordCard\" @close=\"togglePaswordCard\" />\r\n    <NotificacionN v-if=\"showNotificationModal\" @close=\"toggleNotificationModal\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport PerfilCard from './PerfilCard.vue';\r\nimport PaswordC from './PaswordC.vue';\r\nimport NotificacionN from './NotificacionN.vue';\r\nconst dropdownOpen = ref(false);\r\nconst showProfileCard = ref(false);\r\nconst showPaswordCard = ref(false);\r\nconst showNotificationModal = ref(false);\r\nconst fullText = \"Navify\";\r\nconst displayedText = ref(\"\");\r\nlet currentIndex = 0;\r\nlet isDeleting = false;\r\nlet typingInterval;\r\n\r\nconst toggleDropdown = () => {\r\n    dropdownOpen.value = !dropdownOpen.value;\r\n};\r\n\r\nconst toggleProfileCard = () => {\r\n    showProfileCard.value = !showProfileCard.value;\r\n    if (dropdownOpen.value) {\r\n        dropdownOpen.value = false;\r\n    }\r\n};\r\n\r\nconst togglePaswordCard = () => {\r\n    showPaswordCard.value = !showPaswordCard.value;\r\n    if (dropdownOpen.value) {\r\n        dropdownOpen.value = false;\r\n    }\r\n};\r\n\r\nconst toggleNotificationModal = () => {\r\n    showNotificationModal.value = !showNotificationModal.value;\r\n};\r\n\r\nconst typeEffect = () => {\r\n    const current = currentIndex;\r\n\r\n    if (!isDeleting && current < fullText.length) {\r\n        displayedText.value = fullText.slice(0, current + 1);\r\n        currentIndex++;\r\n        if (currentIndex === fullText.length) {\r\n            // Esperar 5 segundos antes de comenzar a borrar\r\n            typingInterval = setTimeout(() => {\r\n                isDeleting = true;\r\n                typeEffect();\r\n            }, 5000);\r\n            return;\r\n        }\r\n    } else if (isDeleting && current > 0) {\r\n        displayedText.value = fullText.slice(0, current - 1);\r\n        currentIndex--;\r\n    } else {\r\n        isDeleting = false;\r\n        currentIndex = 0;\r\n    }\r\n\r\n    const typingSpeed = isDeleting ? 100 : 200;\r\n    typingInterval = setTimeout(typeEffect, typingSpeed);\r\n};\r\n\r\n\r\nonUnmounted(() => {\r\n    clearTimeout(typingInterval);\r\n});\r\n\r\nonMounted(() => {\r\n    typeEffect();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.home .navar {\r\n    background-color: var(--sidebar-color);\r\n    border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n    position: relative;\r\n    z-index: 2;\r\n}\r\n\r\n.home .actions {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.actions {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.notification-btn {\r\n    background: none;\r\n    border: none;\r\n    color: var(--text-colar);\r\n    font-size: 1.7rem;\r\n    cursor: pointer;\r\n    margin-right: 15px;\r\n    margin-top: 10px;\r\n    position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n    position: absolute;\r\n    right: -1px;\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: var(--text-colar);\r\n    border-radius: 50%;\r\n}\r\n\r\n.titulo {\r\n    display: inline-block;\r\n    min-width: 100px;\r\n    /* Ajusta según sea necesario */\r\n}\r\n\r\n.dropdown {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.dropbtn {\r\n    background-color: var(--sidebar-color);\r\n    color: var(--text-colar);\r\n    padding: 10px 15px;\r\n    font-size: 16px;\r\n    border: none;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n    border-radius: 5px;\r\n    transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n    background-color: var(--body-color);\r\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dropdown-content {\r\n    display: none;\r\n    position: absolute;\r\n    margin-right: 30px;\r\n    background-color: var(--sidebar-color);\r\n    min-width: 200px;\r\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n    z-index: 3;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease;\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n}\r\n\r\n.dropdown-content.show {\r\n    display: block;\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n    color: var(--text-colar);\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: flex;\r\n    align-items: center;\r\n    transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n    background-color: var(--body-color);\r\n    transform: translateX(5px);\r\n    color: var(--text-colar);\r\n}\r\n\r\n.dropdown-item i {\r\n    margin-right: 12px;\r\n    font-size: 1.2em;\r\n    width: 20px;\r\n    text-align: center;\r\n}\r\n\r\n.dropdown-item span {\r\n    font-weight: 500;\r\n}\r\n\r\n/* Separador entre elementos */\r\n.dropdown-item:not(:last-child) {\r\n    border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.hero {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: calc(100vh - 80px);\r\n    text-align: center;\r\n    position: relative;\r\n    z-index: 2;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    min-height: 100vh;\r\n}\r\n\r\n.hero-title {\r\n    font-size: 3.5rem;\r\n    margin-bottom: 1rem;\r\n    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\r\n    animation: fadeInDown 1s ease-out;\r\n}\r\n\r\n.hero-subtitle {\r\n    font-size: 1.5rem;\r\n    margin-bottom: 2rem;\r\n    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n    animation: fadeInUp 1s ease-out 0.5s both;\r\n}\r\n\r\n.btn-cta {\r\n    padding: 1rem 2rem;\r\n    font-size: 1.2rem;\r\n    background-color: var(--sidebar-color);\r\n    color: var(--text-color);\r\n    border: none;\r\n    border-radius: 50px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    animation: fadeInUp 1s ease-out 1s both;\r\n}\r\n\r\n.btn-cta:hover {\r\n    background-color: var(--sidebar-color);\r\n    transform: translateY(-3px);\r\n}\r\n</style>","import script from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=6ce42698&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6ce42698\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n    <div class=\"hero\">\r\n      <h1 class=\"hero-title\">Sistema de Rastreo GPS Avanzado</h1>\r\n      <p class=\"hero-subtitle\">Monitoreo preciso y eficiente para optimizar tu flota de transporte</p>\r\n      <button class=\"btn-cta\" @click=\"scrollToFeatures\">Descubre la Revolución del Rastreo</button>\r\n    </div>\r\n  </section>\r\n\r\n  <section class=\"home\" id=\"home2\">\r\n    <div class=\"features\">\r\n      <div class=\"feature-card\">\r\n        <i class='bx bx-bus'></i>\r\n        <h3>Gestión Eficiente de Flota</h3>\r\n        <p>Optimiza rutas y reduce costos operativos hasta en un 25%</p>\r\n      </div>\r\n      <div class=\"feature-card\">\r\n        <i class='bx bx-time-five'></i>\r\n        <h3>Puntualidad Mejorada</h3>\r\n        <p>Aumenta la precisión de los horarios de llegada en un 30%</p>\r\n      </div>\r\n      <div class=\"feature-card\">\r\n        <i class='bx bx-shield-quarter'></i>\r\n        <h3>Seguridad del Pasajero</h3>\r\n        <p>Monitoreo en tiempo real para una experiencia de viaje más segura</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Nueva sección de publicidad -->\r\n    <div class=\"promo-section\">\r\n      <h2>¿Por qué elegir nuestro Sistema de Rastreo GPS?</h2>\r\n      <div class=\"promo-content\">\r\n        <div class=\"promo-text\">\r\n          <ul>\r\n            <li>Optimiza rutas y reduce el consumo de combustible hasta en un 20%</li>\r\n            <li>Mejora la puntualidad de los buses en un 30%</li>\r\n            <li>Monitorea el comportamiento de los conductores para aumentar la seguridad</li>\r\n            <li>Proporciona información en tiempo real a los pasajeros sobre llegadas y salidas</li>\r\n            <li>Facilita el mantenimiento preventivo para reducir tiempos de inactividad</li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"promo-image\">\r\n          <img src=\"../assets/gps-tracking-demo.jpg\" alt=\"Demo del sistema de rastreo GPS\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport NavBar from '../components/NavBar.vue';\r\n\r\nconst scrollToFeatures = () => {\r\n  const featuresElement = document.querySelector('#home2');\r\n  if (featuresElement) {\r\n    featuresElement.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  background-image: url('../assets/fondo7.jpg');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-attachment: fixed;\r\n  color: white;\r\n}\r\n\r\n#home2{\r\n  min-height: 140vh;\r\n  background: var(--body-color);\r\n}\r\n\r\n\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.home .actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  font-size: 1.7rem;\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n  height: 15px;\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n}\r\n\r\n.titulo {\r\n  display: inline-block;\r\n  min-width: 100px; /* Ajusta según sea necesario */\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.dropbtn {\r\n  background-color: var(--sidebar-color);\r\n  color: var(--text-colar);\r\n  padding: 10px 15px;\r\n  font-size: 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  border-radius: 5px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n}\r\n\r\n.dropdown-content {\r\n  display: none;\r\n  position: absolute;\r\n  margin-right: 30px;\r\n  background-color: var(--sidebar-color);\r\n  min-width: 200px;\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\r\n  z-index: 3;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  color: var(--text-colar);\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  transform: translateX(5px);\r\n  color: var(--text-colar);\r\n}\r\n\r\n.dropdown-item i {\r\n  margin-right: 12px;\r\n  font-size: 1.2em;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n/* Separador entre elementos */\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.hero {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: calc(100vh - 80px);\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 2;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  min-height: 100vh;\r\n}\r\n\r\n.hero-title {\r\n  font-size: 3.5rem;\r\n  margin-bottom: 1rem;\r\n  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);\r\n  animation: fadeInDown 1s ease-out;\r\n}\r\n\r\n.hero-subtitle {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 2rem;\r\n  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);\r\n  animation: fadeInUp 1s ease-out 0.5s both;\r\n}\r\n\r\n.btn-cta {\r\n  padding: 1rem 2rem;\r\n  font-size: 1.2rem;\r\n  background-color: var(--sidebar-color);\r\n  color: var(--text-color);\r\n  border: none;\r\n  border-radius: 50px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  animation: fadeInUp 1s ease-out 1s both;\r\n}\r\n\r\n.btn-cta:hover {\r\n  background-color: var(--sidebar-color);\r\n  transform: translateY(-3px);\r\n}\r\n\r\n.features {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n  padding: 4rem 0px;\r\n  background-color: var(--sidebar-color);\r\n  position: relative;\r\n  z-index: 2;\r\n  min-height: 50vh;\r\n  min-width: auto;\r\n}\r\n\r\n.feature-card {\r\n  background-color: var(--sidebar-color);\r\n  border-radius: 10px;\r\n  padding: 2rem;\r\n  margin: 1rem;\r\n  width: 300px;\r\n  text-align: center;\r\n  box-shadow: 0 10px 20px rgba(0,0,0,0.1);\r\n  transition: all 0.3s ease;\r\n  \r\n}\r\n\r\n.feature-card:hover {\r\n  transform: translateY(-10px);\r\n  box-shadow: 0 15px 30px rgba(0,0,0,0.2);\r\n}\r\n\r\n.feature-card i {\r\n  font-size: 3rem;\r\n  color: var(--text-colar);\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.feature-card h3 {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  color: var(--text-color);\r\n}\r\n\r\n.feature-card p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.promo-section {\r\n  background-color: var(--sidebar-color);\r\n  padding: 4rem 2rem;\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.promo-section h2 {\r\n  font-size: 2.5rem;\r\n  color: var(--text-color);\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.promo-content {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.promo-text {\r\n  flex: 1;\r\n  max-width: 500px;\r\n  text-align: left;\r\n}\r\n\r\n.promo-text ul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n\r\n.promo-text li {\r\n  font-size: 1.2rem;\r\n  color: var(--text-color);\r\n  margin-bottom: 1rem;\r\n  padding-left: 30px;\r\n  position: relative;\r\n}\r\n\r\n.promo-text li::before {\r\n  content: '✓';\r\n  color: #4CAF50;\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n\r\n.promo-image {\r\n  flex: 1;\r\n  max-width: 500px;\r\n}\r\n\r\n.promo-image img {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  box-shadow: 0 10px 20px rgba(0,0,0,0.1);\r\n}\r\n\r\n/* Animaciones */\r\n@keyframes fadeInDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Estilos para el modo oscuro */\r\nbody.dark .features,\r\nbody.dark .promo-section {\r\n  background-color: rgba(30, 30, 30, 0.95);\r\n}\r\n\r\nbody.dark .feature-card,\r\nbody.dark .promo-section h2,\r\nbody.dark .promo-text li {\r\n  color: #f0f0f0;\r\n}\r\n\r\nbody.dark .feature-card p,\r\nbody.dark .promo-text li {\r\n  color: #ccc;\r\n}\r\n\r\nbody.dark .home {\r\n  background-image: url('../assets/fondo1_1.jpg');\r\n}\r\n\r\n.perfil{\r\n  min-height: 100vh;\r\n  background-color: var(--sidebar-color);\r\n}\r\n\r\n/* Estilos para el modal */\r\n.profile-card {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: white;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  z-index: 1000;\r\n}\r\n</style>","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=618d1226&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-618d1226\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n    <div class=\"tituloo\">\r\n      <div class=\"hone\">\r\n        <h1>Lista de Dispositivos</h1>\r\n        <div class=\"group\">\r\n          <svg class=\"icon\" aria-hidden=\"true\" viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path\r\n                d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n              </path>\r\n            </g>\r\n          </svg>\r\n          <input placeholder=\"Buscar\" type=\"search\" class=\"input\" v-model=\"searchQuery\" @input=\"filterResults\">\r\n        </div>\r\n        <div class=\"device-list-container\">\r\n          <ul class=\"device-list\">\r\n            <li v-for=\"item in filteredResults\" :key=\"item._id\" @click=\"showAlert(item)\">\r\n              <i class='bx bxs-car'></i>\r\n              {{ item.deviceName }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"hone2\">\r\n        <h1>Dispositivo</h1>\r\n      </div>\r\n\r\n      <div id=\"map\" class=\"map-container\"></div>\r\n    </div>\r\n\r\n    <div class=\"cuadro\">\r\n      <div class=\"control-container\">\r\n        <p>Dispositivo: <span>{{ deviceName }}</span></p>\r\n        \r\n        <p v-if=\"fixTimeDOM\">Tiempo: <span>{{ formatDate(utc(fixTimeDOM)) }}</span></p>\r\n        <p>Velocidad: <span>{{ speedDOM }} km/h</span></p>\r\n        <p>Encendido: <span>{{ ignitionDOM }}</span></p>\r\n        <p>Cargando: <span>{{ chargingDOM }}</span></p>\r\n        <div class=\"button-container\">\r\n          <button @click=\"sendCommand(0)\">Apagar</button>\r\n          <button @click=\"sendCommand(1)\">Encender</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport NavBar from '../components/NavBar.vue';\r\nimport Swal from 'sweetalert2';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport iconRetinaUrl from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport iconUrl from 'leaflet/dist/images/marker-icon.png';\r\nimport shadowUrl from 'leaflet/dist/images/marker-shadow.png';\r\nimport { formatDate, utc } from '../../Back-end/utils/formatearFecha';\r\nimport axios from 'axios';\r\n// Configuración de Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl,\r\n  iconUrl,\r\n  shadowUrl\r\n});\r\n\r\n// Variables reactivas\r\nlet map;\r\nconst deviceName = ref('');\r\nconst fixTimeDOM = ref('');\r\nconst speedDOM = ref(0);\r\nconst ignitionDOM = ref('');\r\nconst chargingDOM = ref('');\r\nconst dropdownOpen = ref(false);\r\nconst searchQuery = ref('');\r\nconst devices = ref([]);\r\nconst filteredResults = ref([]);\r\nlet ws = null;\r\n\r\n// Inicializa el mapa de Leaflet\r\nfunction initMap() {\r\n  var colombia = { lat: 10.9685, lng: -74.7813 };\r\n  const mapOptions = {\r\n    center: colombia,\r\n    zoom: 12.4\r\n  };\r\n\r\n  // Crear el objeto de mapa de Leaflet\r\n  map = L.map('map').setView([colombia.lat, colombia.lng], mapOptions.zoom);\r\n\r\n  // Agregar una capa de mapa\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n  }).addTo(map);\r\n}\r\n\r\n// Alterna la visibilidad del menú desplegable\r\nfunction toggleDropdown() {\r\n  dropdownOpen.value = !dropdownOpen.value;\r\n}\r\n\r\n// Filtra los dispositivos basados en la búsqueda del usuario\r\nfunction filterResults() {\r\n  const query = searchQuery.value.toLowerCase();\r\n  filteredResults.value = devices.value.filter(item =>\r\n    item.deviceName.toLowerCase().includes(query)\r\n  );\r\n}\r\n\r\n// Muestra un dispositivo seleccionado en el mapa\r\nasync function showDeviceOnMap(data) {\r\n  const { lat, lon, fixTime, speed, ignition, charging, deviceName:name } = data;\r\n  if (lat === undefined || lon === undefined) {\r\n    console.error('Latitud o longitud no definida');\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'No se pudo obtener la ubicación del dispositivo.',\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n    return;\r\n  }\r\n  if (!map) {\r\n    console.error('El mapa no está inicializado');\r\n    return;\r\n  }\r\n\r\n  // Limpiar marcadores existentes\r\n  map.eachLayer((layer) => {\r\n    if (layer instanceof L.Marker) {\r\n      map.removeLayer(layer);\r\n    }\r\n  });\r\n\r\n  deviceName.value = name;\r\n  fixTimeDOM.value = fixTime;\r\n  speedDOM.value = speed;\r\n  ignitionDOM.value = ignition ? 'Sí' : 'No';\r\n  chargingDOM.value = charging ? 'Sí' : 'No';\r\n\r\n  // Centrar el mapa en la ubicación del dispositivo\r\n  map.setView([lat, lon], 18);\r\n\r\n  // Añadir un nuevo marcador para el dispositivo\r\n  const marker = L.marker([lat, lon]).addTo(map);\r\n\r\n  // Mostrar información del dispositivo en un popup\r\n\r\n  // Forzar una actualización del mapa\r\n  map.invalidateSize();\r\n\r\n  // Asegurar que el mapa se centre después de un breve retraso\r\n  setTimeout(() => {\r\n    map.setView([lat, lon], 18);\r\n    map.invalidateSize();\r\n  }, 100);\r\n\r\n  console.log('Marcador añadido y mapa centrado');\r\n  Swal.close(); // Cerrar el indicador de carga\r\n}\r\nasync function startTracking(device) {\r\n  // Conectar al servidor WebSocket\r\n  const response = await fetch(`http://3.12.147.103/devices/status/${device.imei}`);\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    showDeviceOnMap(data); // Mostrar la última ubicación en el mapa\r\n\r\n  if (ws) {\r\n    ws.close();\r\n  }\r\n  ws = new WebSocket('ws://3.12.147.103');\r\n\r\n  ws.onopen = () => {\r\n    console.log('Conectado al servidor WebSocket');\r\n    // Enviar el IMEI del dispositivo para obtener actualizaciones\r\n    ws.send(JSON.stringify({ imei: device.imei }));\r\n  };\r\n\r\n  ws.onmessage = (event) => {\r\n  const data = JSON.parse(event.data);\r\n  if (data.lat !== undefined && data.lon !== undefined) {\r\n    showDeviceOnMap(data); // Llamar a showDeviceOnMap con los datos recibidos\r\n  } else {\r\n    console.error('Datos de ubicación no definidos');\r\n    \r\n  }\r\n};\r\n  ws.onclose = () => {\r\n    console.log('Desconectado del servidor WebSocket');\r\n  };\r\n\r\n  ws.onerror = (error) => {\r\n    console.error('Error en la conexión WebSocket:', error);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'No se pudo establecer la conexión con el servidor WebSocket.',\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  };\r\n}\r\nconst sendCommand = async (commandNumber) => {\r\n  try {\r\n    const response = await axios.get(`http://3.12.147.103/send-command/${commandNumber}`);\r\n    console.log(response.data);\r\n    Swal.fire({\r\n      title: 'Comando Enviado',\r\n      text: `El comando ${commandNumber} ha sido enviado al GPS.`,\r\n      icon: 'success',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  } catch (error) {\r\n    console.error('Error al enviar el comando:', error.message);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: `Hubo un error al enviar el comando ${commandNumber}.`,\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  }\r\n};\r\n// Muestra una alerta con los detalles del dispositivo\r\nconst showAlert = (item) => {\r\n  console.log(JSON.stringify(item, null, 2));\r\n  Swal.fire({\r\n    title: 'Detalles del Dispositivo',\r\n    html: `\r\n      <p><strong>Nombre:</strong> ${item.deviceName}</p>\r\n      <p><strong>Responsable:</strong> ${item.responsible}</p>\r\n      <p><strong>IMEI:</strong> ${item.imei}</p>\r\n      <p><strong>Estado:</strong> ${item.status}</p>\r\n    `,\r\n    confirmButtonText: 'Mostrar en Mapa',\r\n    showCancelButton: true,\r\n    cancelButtonText: 'Cancelar'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      startTracking(item); // Iniciar el seguimiento del dispositivo\r\n      const cuadro = document.querySelector('.cuadro');\r\n      cuadro.style.display = 'flex';\r\n    } else {\r\n      Swal.close(); // Cerrar el indicador de carga si se cancela\r\n    }\r\n  });\r\n};\r\n\r\n// Carga los dispositivos desde la API\r\nconst cargarDispositivos = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/devices');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    console.log(data);\r\n    devices.value = data;\r\n    filteredResults.value = devices.value;\r\n  } catch (error) {\r\n    console.error('Error al cargar dispositivos:', error);\r\n  }\r\n};\r\n\r\n// Lifecycle hooks\r\nonUnmounted(() => {\r\n  if (ws) {\r\n    ws.close();\r\n  }\r\n});\r\n\r\nonMounted(() => {\r\n  initMap();\r\n  cargarDispositivos();\r\n});\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n/* Estilos del mapa */\r\n.map-container {\r\n  height: calc(100vh - 60px);\r\n  width: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n/* Estilos generales */\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n/* Estilos de la barra de navegación */\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n  z-index: 2;\r\n\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.home .actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  font-size: 1.7rem;\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n  height: 15px;\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n}\r\n\r\n.titulo {\r\n  display: inline-block;\r\n  min-width: 100px;\r\n  /* Ajusta según sea necesario */\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.dropbtn {\r\n  background-color: var(--sidebar-color);\r\n  color: var(--text-colar);\r\n  padding: 10px 15px;\r\n  font-size: 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  border-radius: 5px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dropdown-content {\r\n  display: none;\r\n  position: absolute;\r\n  margin-right: 30px;\r\n  background-color: var(--sidebar-color);\r\n  min-width: 200px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  z-index: 3;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  color: var(--text-colar);\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  transform: translateX(5px);\r\n  color: var(--text-colar);\r\n}\r\n\r\n.dropdown-item i {\r\n  margin-right: 12px;\r\n  font-size: 1.2em;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n/* Separador entre elementos */\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.hone {\r\n  margin-left: 30px;\r\n  width: 17%;\r\n  background-color: var(--sidebar-color);\r\n  height: 280px;\r\n  position: absolute;\r\n  top: 35%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone h1 {\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n\r\n}\r\n\r\n.hone2 {\r\n  margin-left: 30px;\r\n  background-color: var(--sidebar-color);\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 25%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 5px 15px;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone2 h1 {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  font-size: 14px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.group {\r\n  display: flex;\r\n  line-height: 28px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  max-width: 250px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 40px;\r\n  line-height: 28px;\r\n  padding: 0 1rem;\r\n  padding-left: 2.5rem;\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  outline: none;\r\n  background-color: var(--body-color);\r\n  color: var(--text-color);\r\n  transition: .3s ease;\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-color);\r\n}\r\n\r\n.icon {\r\n  position: absolute;\r\n  left: 1rem;\r\n  fill: var(--text-color);\r\n  width: 1rem;\r\n  height: 1rem;\r\n  font-size: 21px;\r\n\r\n}\r\n\r\n.device-list-container {\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n\r\n.device-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.device-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 10px;\r\n  color: var(--text-color);\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-list li:hover {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.device-list li i {\r\n  margin-right: 10px;\r\n  font-size: 21px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Estilos para la barra de desplazamiento */\r\n.device-list-container::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-track {\r\n  background: var(--sidebar-color);\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-thumb {\r\n  background-color: var(--body-color);\r\n  border-radius: 3px;\r\n}\r\n\r\n.cuadro {\r\n  background: var(--body-color);\r\n  max-width: 320px;\r\n  margin: 1rem auto;\r\n  border-radius: 16px;\r\n  box-shadow: rgba(17, 12, 46, 0.05) 0px 48px 100px 0px;\r\n  overflow: hidden;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  display: none;\r\n  margin: 4rem 20px;\r\n}\r\n\r\n.control-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* Título del dashboard */\r\n.control-container::before {\r\n  content: \"Panel de Control\";\r\n  background: var(--body-color);\r\n  padding: 1rem;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: var(--text-color);\r\n  border-bottom: 1px solid #edf2f7;\r\n}\r\n\r\n/* Estilos para los párrafos de información */\r\n.control-container p {\r\n  margin: 0;\r\n  padding: 0.8rem 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #edf2f7;\r\n  font-size: 0.9rem;\r\n  color: var(--text-color);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.control-container p:hover {\r\n  background-color: var(--body-color);\r\n}\r\n\r\n/* Valores específicos con estilos personalizados */\r\n.control-container p span {\r\n  font-weight: 500;\r\n  padding: 0.3rem 0.8rem;\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  background: var(--body-color);\r\n  color: var(--text-color);\r\n}\r\n\r\n.button-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: linear-gradient(to bottom, var(--body-color), var(--body-color));\r\n}\r\n\r\nbutton {\r\n  padding: 0.8rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.70rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n\r\nbutton:first-child { \r\n  background-color: #fff;\r\n  color: #e53e3e;\r\n  border: 1px solid #e53e3e;\r\n}\r\n\r\nbutton:first-child:hover {\r\n  background-color: #e53e3e;\r\n  color: white;\r\n  box-shadow: 0 2px 8px rgba(229, 62, 62, 0.2);\r\n}\r\n\r\n/* Botón de encendido */\r\nbutton:last-child {\r\n  background-color: #fff;\r\n  color: #38a169;\r\n  border: 1px solid #38a169;\r\n}\r\n\r\nbutton:last-child:hover {\r\n  background-color: #38a169;\r\n  color: white;\r\n  box-shadow: 0 2px 8px rgba(56, 161, 105, 0.2);\r\n}\r\n\r\n@keyframes valueChange {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>","import script from \"./TiempoReal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TiempoReal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TiempoReal.vue?vue&type=style&index=0&id=029e8562&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-029e8562\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n    <div class=\"hone2\">\r\n      <h1>Geozona</h1>\r\n    </div>\r\n    <div class=\"tituloo\">\r\n      <div class=\"hone\">\r\n        <h1>Crear Geozonas</h1>\r\n        <div class=\"group\">\r\n          <svg class=\"icon\" aria-hidden=\"true\" viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path\r\n                d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n              </path>\r\n            </g>\r\n          </svg>\r\n          <input placeholder=\"Buscar\" type=\"search\" class=\"input\" v-model=\"searchQuery\" @input=\"filterResults\">\r\n        </div>\r\n        <div class=\"device-list-container\">\r\n          <ul class=\"device-list\">\r\n            <li @click=\"selectGeozone(item)\" v-for=\"item in filteredResults\" :key=\"item._id\">\r\n              <i class='bx bxs-car'></i>\r\n              {{ item.name }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"map\" class=\"map-container\"></div>\r\n    </div>\r\n    <div class=\"modal\" v-if=\"showModal\" @click.self=\"closeModal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeModal\">&times;</span>\r\n        <h2>Guardar Geozona</h2>\r\n        <input v-model=\"geozoneName\" placeholder=\"Nombre de la geozona\" class=\"inputt\" @keyup.enter=\"saveGeozone\" />\r\n        <button @click=\"saveGeozone\">Guardar Geozona</button>\r\n      </div>\r\n    </div>\r\n    <!-- Modal para seleccionar dispositivo -->\r\n    <div v-if=\"showDeviceModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeDeviceModal\">&times;</span>\r\n        <h2>Seleccionar Dispositivo</h2>\r\n        <ul class=\"device-list-modal\">\r\n          <li v-for=\"device in devices\" :key=\"device.id\" class=\"device-item\">\r\n            <input type=\"checkbox\" :checked=\"selectedDevices.includes(device)\" @click.stop=\"toggleDeviceSelection(device)\" />\r\n            {{ device.deviceName }}\r\n          </li>\r\n        </ul>\r\n        <button @click=\"confirmCreateGeozona\" class=\"create-button\">Crear Geozona</button>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport NavBar from '../components/NavBar.vue';\r\nimport * as L from 'leaflet';\r\nimport Swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport iconRetinaUrl from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport iconUrl from 'leaflet/dist/images/marker-icon.png';\r\nimport shadowUrl from 'leaflet/dist/images/marker-shadow.png';\r\nimport '@geoman-io/leaflet-geoman-free';\r\nimport '@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.css';\r\nimport 'leaflet-routing-machine';\r\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\r\n\r\nconst map = ref(null);\r\nconst drawnItems = ref(new L.FeatureGroup());\r\nconst searchQuery = ref('');\r\nconst geozones = ref([]);\r\nconst filteredResults = ref([]);\r\nconst selectedGeozone = ref(null); // Referencia reactiva para almacenar la geozona seleccionada\r\nconst geozoneShapes = ref({});\r\nconst dropdownOpen = ref(false);\r\nimport { formatDate, utc } from '../../Back-end/utils/formatearFecha';\r\nconst fullText = \"Navify\";\r\nconst displayedText = ref(\"\");\r\nlet currentIndex = 0;\r\nlet isDeleting = false;\r\nlet typingInterval;\r\nlet routingControl = null;\r\nlet geozoneMarker = null;\r\nlet coordinates = null;\r\nlet ws = null;\r\n\r\nconst deviceName = ref('');\r\nconst showModal = ref(false);\r\nconst showDeviceModal = ref(false);\r\nconst geozoneName = ref('');\r\nconst selectedDevices = ref([]);\r\nconst devices = ref([]); // Variable reactiva para almacenar los dispositivos\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl,\r\n  iconUrl,\r\n  shadowUrl\r\n});\r\n\r\nconst typeEffect = () => {\r\n  const current = currentIndex;\r\n\r\n  if (!isDeleting && current < fullText.length) {\r\n    displayedText.value = fullText.slice(0, current + 1);\r\n    currentIndex++;\r\n    if (currentIndex === fullText.length) {\r\n      typingInterval = setTimeout(() => {\r\n        isDeleting = true;\r\n        typeEffect();\r\n      }, 5000);\r\n      return;\r\n    }\r\n  } else if (isDeleting && current > 0) {\r\n    displayedText.value = fullText.slice(0, current - 1);\r\n    currentIndex--;\r\n  } else {\r\n    isDeleting = false;\r\n    currentIndex = 0;\r\n  }\r\n\r\n  const typingSpeed = isDeleting ? 100 : 200;\r\n  typingInterval = setTimeout(typeEffect, typingSpeed);\r\n};\r\n\r\nconst toggleDropdown = () => {\r\n  dropdownOpen.value = !dropdownOpen.value;\r\n};\r\n\r\nasync function showDeviceOnMap(data) {\r\n  const { lat, lon, fixTime, speed, ignition, charging, deviceName:name } = data;\r\n  if (lat === undefined || lon === undefined) {\r\n    console.error('Latitud o longitud no definida');\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'No se pudo obtener la ubicación del dispositivo.',\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n    return;\r\n  }\r\n  if (!map.value) {\r\n    console.error('El mapa no está inicializado');\r\n    return;\r\n  }\r\n  map.value.eachLayer((layer) => {\r\n    if (layer instanceof L.Marker) {\r\n      map.value.removeLayer(layer);\r\n    }\r\n  });\r\n  // Limpiar marcadores existentes\r\n\r\n  // Centrar el mapa en la ubicación del dispositivo\r\n\r\n  // Añadir un nuevo marcador para el dispositivo\r\n  const marker = L.marker([lat, lon]).addTo(map.value);\r\n\r\n  // Mostrar información del dispositivo en un popup\r\n  marker.bindPopup(`\r\n    <b>${name}</b><br>\r\n    Tiempo: ${formatDate(utc(fixTime))}<br>\r\n    Velocidad: ${speed} km/h <br>\r\n  `).openPopup();\r\n\r\n  // Forzar una actualización del mapa\r\n  map.value.invalidateSize();\r\n\r\n  // Asegurar que el mapa se centre después de un breve retraso\r\n  setTimeout(() => {\r\n    map.value.setView([lat, lon], 18);\r\n    map.value.invalidateSize();\r\n  }, 100);\r\n\r\n  console.log('Marcador añadido y mapa centrado');\r\n  Swal.close(); // Cerrar el indicador de carga\r\n}\r\n\r\n\r\n\r\nasync function startTracking(device) {\r\n  try {\r\n    // Conectar al servidor WebSocket\r\n    const response = await fetch(`http://3.12.147.103/devices/status/${device.imei}`);\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    showDeviceOnMap(data);\r\n  } catch (error) {\r\n    console.error('Error al iniciar el seguimiento:', error);\r\n    // Aquí puedes manejar el error de manera adecuada, por ejemplo, mostrando un mensaje al usuario\r\n    alert('Hubo un problema al iniciar el seguimiento del dispositivo. Por favor, inténtalo de nuevo más tarde.');\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst cargarDispositivos = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/devices');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    console.log(data);\r\n    devices.value = data;\r\n    filterResults(); // Actualizar los resultados filtrados\r\n  } catch (error) {\r\n    console.error('Error al cargar dispositivos:', error);\r\n  }\r\n};\r\n\r\nconst cargarGeozonas = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/geozone/geozones');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    geozones.value = data;\r\n    console.log('Geozonas cargadas:', geozones.value);\r\n    filterResults(); // Actualizar los resultados filtrados\r\n  } catch (error) {\r\n    console.error('Error al cargar geozonas:', error);\r\n  }\r\n};\r\n\r\nconst initMap = () => {\r\n  if (!map.value) {\r\n    map.value = L.map('map').setView([10.96854, -74.78132], 12);\r\n\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      maxZoom: 19\r\n    }).addTo(map.value);\r\n\r\n    drawnItems.value.addTo(map.value);\r\n\r\n    map.value.pm.addControls({\r\n      position: 'topright',\r\n      drawPolygon: true,\r\n      drawPolyline: true,\r\n      drawRectangle: true,\r\n      drawCircle: true,\r\n      drawCircleMarker: false,\r\n      drawMarker: false,\r\n      editMode: true,\r\n      deleteMode: true,\r\n      createZone: true,\r\n    });\r\n\r\n    map.value.on('pm:create', (e) => {\r\n      const layer = e.layer;\r\n      drawnItems.value.addLayer(layer);\r\n\r\n      if (layer instanceof L.Circle) {\r\n        coordinates = {\r\n          center: layer.getLatLng(),\r\n          radius: layer.getRadius()\r\n        };\r\n        console.log('Circunferencia creada - Centro:', coordinates.center, 'Radio:', coordinates.radius);\r\n      } else {\r\n        coordinates = layer.getLatLngs();\r\n        console.log('Coordenadas de la geozona creada:', coordinates);\r\n      }\r\n\r\n      showModal.value = true; // Mostrar el modal para guardar la geozona\r\n    });\r\n\r\n    map.value.on('pm:remove', (e) => {\r\n      console.log('Forma eliminada:', e.layer);\r\n    });\r\n  }\r\n};\r\n\r\nconst storeShape = (layer, geozoneId) => {\r\n  if (!geozoneShapes.value[geozoneId]) {\r\n    geozoneShapes.value[geozoneId] = [];\r\n  }\r\n  geozoneShapes.value[geozoneId].push(layer);\r\n};\r\n\r\nconst showGeozoneOnMap = (geozone) => {\r\n  if (!map.value) {\r\n    console.error('El mapa no está inicializado');\r\n    return;\r\n  }\r\n\r\n  // Limpiar las capas existentes\r\n  drawnItems.value.clearLayers();\r\n\r\n  let layer;\r\n  if (geozone.type === 'Circle') {\r\n    const center = L.latLng(geozone.center.lat, geozone.center.lng);\r\n    layer = L.circle(center, { radius: geozone.radius }).addTo(map.value);\r\n    map.value.setView(center, 15);\r\n  } else if (geozone.type === 'Polygon') {\r\n    const vertices = geozone.vertices.map(vertex => [vertex.lat, vertex.lng]);\r\n    layer = L.polygon(vertices).addTo(map.value);\r\n    map.value.fitBounds(layer.getBounds());\r\n  }\r\n\r\n  drawnItems.value.addLayer(layer);\r\n  layer._permanent = true;\r\n};\r\n\r\nconst selectGeozone = (geozone) => {\r\n  selectedGeozone.value = geozone; // Almacenar la geozona seleccionada en selectedGeozone\r\n\r\n  if (geozoneShapes.value[geozone.id]) {\r\n    geozoneShapes.value[geozone.id].forEach(layer => {\r\n      drawnItems.value.addLayer(layer);\r\n    });\r\n  } else {\r\n    showGeozoneOnMap(geozone);\r\n  }\r\n};\r\n\r\nconst deleteLastShape = () => {\r\n  if (!selectedGeozone.value || !geozoneShapes.value[selectedGeozone.value.id]) {\r\n    Swal.fire({\r\n      icon: 'error',\r\n      title: 'Error',\r\n      text: 'No hay formas asociadas a esta geozona.',\r\n    });\r\n    return;\r\n  }\r\n\r\n  const shapesForGeozone = geozoneShapes.value[selectedGeozone.value.id];\r\n  if (shapesForGeozone.length === 0) {\r\n    Swal.fire({\r\n      icon: 'info',\r\n      title: 'Sin Geozonas',\r\n      text: 'Esta geozona no tiene formas creadas.',\r\n    });\r\n    return;\r\n  }\r\n\r\n  const lastShape = shapesForGeozone.pop();\r\n  if (lastShape) {\r\n    map.value.removeLayer(lastShape);\r\n    Swal.fire({\r\n      icon: 'success',\r\n      title: 'Geozona Eliminada',\r\n      text: 'La última forma creada ha sido eliminada.',\r\n    });\r\n  }\r\n};\r\n\r\nconst filterResults = () => {\r\n  const query = searchQuery.value.toLowerCase();\r\n  filteredResults.value = [\r\n    ...devices.value.filter(item => item.deviceName.toLowerCase().includes(query)),\r\n    ...geozones.value.filter(item => item.name.toLowerCase().includes(query))\r\n  ];\r\n};\r\n\r\n\r\nconst openModal = () => {\r\n  showDeviceModal.value = true;\r\n};\r\n\r\nconst closeModal = () => {\r\n  showModal.value = false;\r\n  showDeviceModal.value = false;\r\n};\r\n\r\nconst toggleDeviceSelection = (device) => {\r\n  const index = selectedDevices.value.indexOf(device);\r\n  if (index > -1) {\r\n    // Si el dispositivo ya está seleccionado, lo eliminamos\r\n    selectedDevices.value.splice(index, 1);\r\n  } else {\r\n    // Si no está seleccionado, lo agregamos\r\n    selectedDevices.value.push(device);\r\n  }\r\n  // Imprimir selectedDevices después de cada cambio\r\n  console.log('Dispositivos seleccionados:', selectedDevices.value);\r\n};\r\n\r\nconst saveGeozone = async () => {\r\n  let geozoneData;\r\n\r\n  if (coordinates.center) {\r\n    geozoneData = {\r\n      name: geozoneName.value,\r\n      type: 'Circle',\r\n      center: {\r\n        lat: coordinates.center.lat,\r\n        lng: coordinates.center.lng\r\n      },\r\n      radius: coordinates.radius\r\n    };\r\n  } else {\r\n    geozoneData = {\r\n      name: geozoneName.value,\r\n      type: 'Polygon',\r\n      vertices: coordinates[0].map(latlng => ({\r\n        lat: latlng.lat,\r\n        lng: latlng.lng\r\n      }))\r\n    };\r\n  }\r\n\r\n  // Guardar la geozona en la base de datos y abrir el modal de dispositivos\r\n  try {\r\n    const response = await axios.post('http://3.12.147.103/geozone/geozones', geozoneData);\r\n    console.log('Geozona guardada:', response.data);\r\n    selectedGeozone.value = response.data; // Almacenar la geozona creada en selectedGeozone\r\n    Swal.fire({\r\n      title: 'Geozona guardada',\r\n      text: 'La geozona ha sido guardada exitosamente. Ahora selecciona los dispositivos.',\r\n      icon: 'success'\r\n    }).then(async () => {\r\n      showModal.value = false;\r\n      showDeviceModal.value = true; // Mostrar el modal de dispositivos\r\n      await cargarDispositivos(); // Actualizar la lista de dispositivos\r\n      await cargarGeozonas(); // Actualizar la lista de geozonas\r\n      filterResults(); // Actualizar los resultados filtrados\r\n    });\r\n  } catch (error) {\r\n    console.error('Error al crear la geozona:', error.response ? error.response.data : error.message);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: `Hubo un error al crear la geozona: ${error.response ? JSON.stringify(error.response.data) : error.message}`,\r\n      icon: 'error'\r\n    });\r\n  }\r\n};\r\n\r\nconst confirmCreateGeozona = async () => {\r\n  if (selectedDevices.value.length === 0) {\r\n    Swal.fire({\r\n      icon: 'warning',\r\n      title: 'Sin selección',\r\n      text: 'Por favor, selecciona al menos un dispositivo para asignar a la geozona.',\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const imeis = selectedDevices.value.map(device => device.imei);\r\n    const geozoneData = {\r\n      name: selectedGeozone.value.name, // Solo enviar el nombre de la geozona\r\n      imeis: imeis\r\n    };\r\n\r\n    // Imprimir geozoneData antes de enviar\r\n    console.log('Datos de la geozona a enviar con dispositivos:', geozoneData);\r\n\r\n    const response = await axios.put(`http://3.12.147.103/devices/geozones/${selectedGeozone.value._id}`, geozoneData);\r\n    console.log('Geozona y dispositivos asignados guardados:', response.data);\r\n    Swal.fire({\r\n      title: 'Geozona actualizada',\r\n      text: 'La geozona y los dispositivos han sido actualizados exitosamente.',\r\n      icon: 'success'\r\n    }).then(() => {\r\n      closeModal();\r\n    });\r\n  } catch (error) {\r\n    console.error('Error al actualizar la geozona y los dispositivos:', error);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'Hubo un error al actualizar la geozona y los dispositivos.',\r\n      icon: 'error'\r\n    });\r\n  }\r\n};\r\nconst intervalId = setInterval(() => {\r\n  startTracking(devicea);\r\n}, 2000);\r\nconst devicea = {\r\n  imei: \"863829070233398\",\r\n};\r\nonMounted(() => {\r\n  cargarDispositivos();\r\n  initMap();\r\n  cargarGeozonas();\r\n  typeEffect();\r\n  startTracking(devicea);\r\n});\r\n\r\nonUnmounted(() => {\r\n  clearInterval(intervalId);\r\n  clearTimeout(typingInterval);\r\n  if (routingControl) {\r\n    map.value.removeControl(routingControl);\r\n  }\r\n});\r\n</script>\r\n<style scoped>\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.actions {\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n\r\n.dropdown {\r\n  display: inline-block;\r\n  position: relative;\r\n}\r\n\r\n.dropdown-content {\r\n  background-color: var(--sidebar-color);\r\n  border-radius: 8px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  display: none;\r\n  margin-right: 30px;\r\n  min-width: 200px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  transform: translateY(-10px);\r\n  transition: all 0.3s ease;\r\n  z-index: 3;\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  align-items: center;\r\n  color: var(--text-colar);\r\n  display: flex;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  color: var(--text-colar);\r\n  transform: translateX(5px);\r\n}\r\n\r\n.dropdown-item i {\r\n  font-size: 1.2em;\r\n  margin-right: 12px;\r\n  text-align: center;\r\n  width: 20px;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.dropbtn {\r\n  align-items: center;\r\n  background-color: var(--sidebar-color);\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-size: 16px;\r\n  gap: 5px;\r\n  padding: 10px 15px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.home .actions {\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  font-size: 1.7rem;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n  height: 15px;\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n}\r\n\r\n.titulo {\r\n  display: inline-block;\r\n  min-width: 100px;\r\n}\r\n\r\n#map {\r\n  height: calc(100vh - 60px);\r\n  width: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.coordinates-table {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\n.coordinates-table,\r\n.coordinates-table th,\r\n.coordinates-table td {\r\n  border: 1px solid black;\r\n  font-size: 10px;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\n.iframe-container {\r\n  align-items: center;\r\n  display: flex;\r\n  height: 650px;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.iframe-container iframe {\r\n  position: relative;\r\n  z-index: 0;\r\n}\r\n\r\n.tituloo {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.hone2 {\r\n  margin-left: 30px;\r\n  background-color: var(--sidebar-color);\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 25%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 5px 15px;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone2 h1 {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  font-size: 15px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.hone {\r\n  margin-left: 30px;\r\n  width: 17%;\r\n  background-color: var(--sidebar-color);\r\n  height: 280px;\r\n  position: absolute;\r\n  top: 30%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone h1 {\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n.group {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  line-height: 28px;\r\n  margin-top: 10px;\r\n  max-width: 250px;\r\n  position: relative;\r\n}\r\n\r\n.input {\r\n  background-color: var(--body-color);\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  color: var(--text-color);\r\n  height: 40px;\r\n  line-height: 28px;\r\n  outline: none;\r\n  padding: 0 1rem;\r\n  padding-left: 2.5rem;\r\n  transition: .3s ease;\r\n  width: 100%;\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-color);\r\n}\r\n\r\n.icon {\r\n  fill: #9e9ea7;\r\n  font-size: 21px;\r\n  height: 1rem;\r\n  left: 1rem;\r\n  position: absolute;\r\n  width: 1rem;\r\n}\r\n\r\n.icoon {\r\n  fill: #9e9ea7;\r\n  font-size: 21px;\r\n  height: 1rem;\r\n  right: 4rem;\r\n  position: relative;\r\n  width: 1rem;\r\n  font-size: 21px;\r\n}\r\n\r\n.device-list-container {\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n\r\n.device-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.device-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 10px;\r\n  color: var(--text-color);\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-list li:hover {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.device-list li i {\r\n  margin-right: 10px;\r\n  font-size: 21px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-track {\r\n  background: var(--sidebar-color);\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-thumb {\r\n  background-color: var(--body-color);\r\n  border-radius: 3px;\r\n}\r\n\r\n.generate-route-btn{\r\n  padding: 4px;\r\n  border-radius: 5px;\r\n  border: 1px solid var(--text-color);\r\n  margin-right: 5px;\r\n  color: var(--text-color);\r\n  background-color: var(--sidebar-color);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n}\r\n\r\n.dark-mode-table {\r\n  background-color: #333;\r\n  color: #fff;\r\n  border: 1px solid #444;\r\n}\r\n\r\n.dark-mode-table th,\r\n.dark-mode-table td {\r\n  border: 1px solid #444;\r\n}\r\n\r\n.dark-mode-table th {\r\n  background-color: #444;\r\n}\r\n\r\n.dark-mode-table tr:nth-child(even) {\r\n  background-color: #555;\r\n}\r\n\r\n.dark-mode-table tr:nth-child(odd) {\r\n  background-color: #666;\r\n}\r\n\r\n\r\n/* Fondo del modal con efecto de desenfoque */\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(5px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n/* Contenido del modal */\r\n.modal-content {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 16px;\r\n  width: 90%;\r\n  max-width: 400px;\r\n  position: relative;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);\r\n  transform: translateY(0);\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n/* Título del modal */\r\n.modal-content h2 {\r\n  color: #2d3436;\r\n  margin: 0 0 1.5rem 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n/* Botón de cerrar */\r\n.close {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  font-size: 1.5rem;\r\n  color: #a0aec0;\r\n  cursor: pointer;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  background: #f7fafc;\r\n}\r\n\r\n.close:hover {\r\n  background: #edf2f7;\r\n  color: #4a5568;\r\n  transform: rotate(90deg);\r\n}\r\n\r\n/* Input personalizado */\r\n.inputt {\r\n  width: 100%;\r\n  padding: 0.8rem 1rem;\r\n  border: 2px solid #edf2f7;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  color: #4a5568;\r\n  transition: all 0.2s ease;\r\n  margin-bottom: 1.5rem;\r\n  outline: none;\r\n}\r\n\r\n.inputt:focus {\r\n  border-color: #4299e1;\r\n  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);\r\n}\r\n\r\n.inputt::placeholder {\r\n  color: #a0aec0;\r\n}\r\n\r\n/* Botón de guardar */\r\n.modal-content button {\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n  background: var(--sidebar-color);\r\n  color: var(--text-colar);\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.modal-content button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(66, 153, 225, 0.2);\r\n}\r\n\r\n.modal-content button:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Animaciones */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Animación de salida */\r\n.modal.closing {\r\n  animation: fadeOut 0.3s ease forwards;\r\n}\r\n\r\n.modal.closing .modal-content {\r\n  animation: slideOut 0.3s ease forwards;\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes slideOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n}\r\n\r\n.device-list-modal {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.device-item {\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  margin: 5px 0;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.device-item:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.create-button {\r\n  background-color: #4CAF50; /* Verde */\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 10px 15px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-top: 10px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.create-button:hover {\r\n  background-color: #45a049; /* Verde más oscuro */\r\n}\r\n\r\n</style>\r\n","import script from \"./GeozonasView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GeozonasView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GeozonasView.vue?vue&type=style&index=0&id=46b48e54&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46b48e54\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n\r\n    <div class=\"arribaBp\">\r\n      <div class=\"hone2\">\r\n        <h1>Historial</h1>\r\n      </div>\r\n      <div id=\"play-content\" class=\"play-content\">\r\n        <div class=\"player-controls\">\r\n          <button @click=\"playRecording\" class=\"control-button\">\r\n            <i class='bx bx-play'></i>\r\n          </button>\r\n          <button @click=\"stopRecording\" class=\"control-button\">\r\n            <i class='bx bx-stop'></i>\r\n          </button>\r\n          <button @click=\"pauseRecording\" class=\"control-button\">\r\n            <i class='bx bx-pause'></i>\r\n          </button>\r\n          <button @click=\"resetRecording\" class=\"control-button\">\r\n            <i class='bx bx-reset'></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tituloo\">\r\n      <div class=\"hone\">\r\n        <h1>Lista de Dispositivos</h1>\r\n        <div class=\"group\">\r\n          <svg class=\"icon\" aria-hidden=\"true\" viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n              </path>\r\n            </g>\r\n          </svg>\r\n          <input placeholder=\"Buscar\" type=\"search\" class=\"input\" v-model=\"searchQuery\" @input=\"filterResults\">\r\n        </div>\r\n        <div class=\"device-list-container\">\r\n          <ul class=\"device-list\">\r\n            <li @click=\"showAlert(item)\" v-for=\"item in filteredResults\" :key=\"item._id\">\r\n              <i class='bx bxs-car'></i>\r\n              {{ item.deviceName }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div id=\"map\" class=\"map-container\"></div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport NavBar from '../components/NavBar.vue';\r\nimport Swal from 'sweetalert2';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport iconRetinaUrl from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport iconUrl from 'leaflet/dist/images/marker-icon.png';\r\nimport shadowUrl from 'leaflet/dist/images/marker-shadow.png';\r\nimport axios from 'axios';\r\nimport  { formatDate, utc } from '../../Back-end/utils/formatearFecha';\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl,\r\n  iconUrl,\r\n  shadowUrl\r\n});\r\n\r\nlet map;\r\nlet polyline;\r\nlet marker;\r\nlet playbackInterval;\r\nconst playbackSpeed = 1000;\r\n\r\nconst fullText = \"Navify\";\r\nconst displayedText = ref(\"\");\r\nlet currentIndex = 0;\r\nlet isDeleting = false;\r\nlet typingInterval;\r\n\r\nconst dropdownOpen = ref(false);\r\nconst searchQuery = ref('');\r\nconst devices = ref([]);\r\nconst filteredResults = ref([]);\r\n\r\nconst typeEffect = () => {\r\n  const current = currentIndex;\r\n  \r\n  if (!isDeleting && current < fullText.length) {\r\n    displayedText.value = fullText.slice(0, current + 1);\r\n    currentIndex++;\r\n    if (currentIndex === fullText.length) {\r\n      typingInterval = setTimeout(() => {\r\n        isDeleting = true;\r\n        typeEffect();\r\n      }, 5000);\r\n      return;\r\n    }\r\n  } else if (isDeleting && current > 0) {\r\n    displayedText.value = fullText.slice(0, current - 1);\r\n    currentIndex--;\r\n  } else {\r\n    isDeleting = false;\r\n    currentIndex = 0;\r\n  }\r\n\r\n  const typingSpeed = isDeleting ? 100 : 200;\r\n  typingInterval = setTimeout(typeEffect, typingSpeed);\r\n};\r\n\r\nfunction initMap() {\r\n  var colombia = { lat: 10.9685, lng: -74.7813 };\r\n  const mapOptions = {\r\n    center: colombia,\r\n    zoom: 12.4\r\n  };\r\n  \r\n  map = L.map('map').setView([colombia.lat, colombia.lng], mapOptions.zoom);\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n  }).addTo(map);\r\n}\r\n\r\nfunction toggleDropdown() {\r\n  dropdownOpen.value = !dropdownOpen.value;\r\n}\r\n\r\nfunction filterResults() {\r\n  const query = searchQuery.value.toLowerCase();\r\n  filteredResults.value = devices.value.filter(item =>\r\n    item.deviceName.toLowerCase().includes(query)\r\n  );\r\n}\r\n\r\nconst showAlert = (item) => {\r\n  console.log('IMEI del dispositivo:', item.imei);\r\n  Swal.fire({\r\n    title: 'Seleccionar rango de fechas y horas',\r\n    html:\r\n      '<label for=\"start-date\">Fecha inicial:</label>' +\r\n      '<input type=\"date\" id=\"start-date\" class=\"swal2-input\">' +\r\n      '<label for=\"start-time\">Hora inicial:</label>' +\r\n      '<input type=\"time\" id=\"start-time\" class=\"swal2-input\">' +\r\n      '<label for=\"end-date\">Fecha fin:</label>' +\r\n      '<input type=\"date\" id=\"end-date\" class=\"swal2-input\">' +\r\n      '<label for=\"end-time\">Hora fin:</label>' +\r\n      '<input type=\"time\" id=\"end-time\" class=\"swal2-input\">',\r\n    width: '60%',\r\n    confirmButtonText: 'Ver Historial',\r\n    showCancelButton: true,\r\n    cancelButtonText: 'Cancelar',\r\n    preConfirm: () => {\r\n      const startDate = document.getElementById('start-date').value;\r\n      const startTime = document.getElementById('start-time').value;\r\n      const endDate = document.getElementById('end-date').value;\r\n      const endTime = document.getElementById('end-time').value;\r\n      console.log(startDate)\r\n      console.log(startTime)\r\n\r\n      if (!startDate || !startTime || !endDate || !endTime) {\r\n        Swal.showValidationMessage('Por favor ingrese todas las fechas y horas');\r\n        return null;\r\n      }\r\n\r\n      const startDateTime = new Date(`${startDate}T${startTime}:00.000Z`).toISOString();\r\n      const endDateTime = new Date(`${endDate}T${endTime}:00.000Z`).toISOString();\r\n      console.log(startDateTime)\r\n      console.log(endDateTime)\r\n      return { startDate: startDateTime, endDate: endDateTime };\r\n    }\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      showHistory(item, result.value.startDate, result.value.endDate);\r\n    }\r\n  });\r\n};\r\n\r\nconst showHistory = async (device, startDate, endDate) => {\r\n  console.log('IMEI del dispositivo:', device.imei);\r\n  if (!device || !device._id) {\r\n    console.error('ID del dispositivo no válido:', device);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'No se puede obtener el historial del dispositivo.',\r\n      icon: 'error',\r\n      confirmButtonText: 'Entendido'\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\nconst response = await axios.get(`http://3.12.147.103/devices/history/${device.imei}`, {\r\n  params: {\r\n    startDate: startDate,\r\n    endDate: endDate\r\n  }\r\n});\r\n\r\nconst historyData = response.data;\r\n\r\nif (!Array.isArray(historyData) || historyData.length === 0) {\r\n  throw new Error('No se encontraron datos de historial.');\r\n}\r\n\r\nconsole.log('Datos de historial recibidos:', historyData);\r\n\r\nconst coordenadas = historyData.map(point => [point.lat, point.lon]);\r\n\r\n// Remover polilínea anterior si existe\r\nif (polyline) {\r\n  map.removeLayer(polyline);\r\n}\r\n\r\npolyline = L.polyline(coordenadas, { color: 'red' }).addTo(map);\r\n\r\n// Eliminar el marcador anterior si existe\r\nif (marker) {\r\n  map.removeLayer(marker);\r\n}\r\n\r\nmarker = L.marker(coordenadas[0]).addTo(map).bindPopup('Inicio');\r\n\r\n// Función para actualizar el marcador y el popup\r\nconst updateMarker = (index) => {\r\n  const { lat, lon, fixTime, speed, ignition, charging } = historyData[index];\r\n  marker.setLatLng([lat, lon]);\r\n\r\n  let formattedTime;\r\n  try {\r\n    formattedTime = formatDate(utc(fixTime));\r\n  } catch (error) {\r\n    console.error('Error al formatear la fecha:', error);\r\n    formattedTime = 'Fecha inválida';\r\n  }\r\n\r\n  marker.bindPopup(`\r\n    <b>${device.deviceName}</b><br>\r\n    Tiempo: ${formattedTime}<br>\r\n    Velocidad: ${speed} km/h <br>\r\n    Encendido: ${ignition}<br>\r\n    Cargando: ${charging}<br>\r\n  `).openPopup();\r\n};\r\n\r\n// Iterar sobre los datos del historial y actualizar el marcador\r\nlet index = 0;\r\nconst interval = setInterval(() => {\r\n  if (index >= historyData.length) {\r\n    clearInterval(interval);\r\n    return;\r\n  }\r\n  updateMarker(index);\r\n  index++;\r\n}, 1000); // Actualiza cada segundo (puedes ajustar el intervalo según sea necesario)\r\n\r\n// Ajustar el mapa para que se vea la polilínea\r\nmap.fitBounds(polyline.getBounds());\r\n\r\nwindow.recordingCoords = coordenadas;                   \r\n\r\n  } catch (error) {\r\n    console.error('Error al mostrar el historial:', error);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: `No se pudo mostrar el historial del dispositivo. Detalles: ${error.message}`,\r\n      icon: 'error',\r\n      confirmButtonText: 'Entendido'\r\n    });\r\n  }\r\n};\r\n\r\n\r\nconst playRecording = () => {\r\n  if (!window.recordingCoords) {\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'Por favor, seleccione un dispositivo antes de reproducir el historial.',\r\n      icon: 'warning',\r\n      confirmButtonText: 'Entendido'\r\n    });\r\n    return;\r\n  }\r\n\r\n  let index = 0;\r\n\r\n  if (playbackInterval) {\r\n    clearInterval(playbackInterval);\r\n  }\r\n\r\n  playbackInterval = setInterval(() => {\r\n    if (index < window.recordingCoords.length) {\r\n      const coord = window.recordingCoords[index];\r\n      marker.setLatLng(coord);\r\n      map.setView(coord, map.getZoom());\r\n      index++;\r\n    } else {\r\n      clearInterval(playbackInterval);\r\n    }\r\n  }, playbackSpeed);\r\n};\r\n\r\nconst cargarDispositivos = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/devices');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    devices.value = data;\r\n    filteredResults.value = devices.value;\r\n  } catch (error) {\r\n    console.error('Error al cargar dispositivos:', error);\r\n  }\r\n};\r\n\r\nconst pauseRecording = () => {\r\n  if (playbackInterval) {\r\n    clearInterval(playbackInterval);\r\n    playbackInterval = null;\r\n  }\r\n};\r\n\r\nconst resetRecording = () => {\r\n  if (playbackInterval) {\r\n    clearInterval(playbackInterval);\r\n  }\r\n  marker.setLatLng(window.recordingCoords[0]);\r\n  map.setView(window.recordingCoords[0], map.getZoom());\r\n};\r\n\r\nonUnmounted(() => {\r\n  clearTimeout(typingInterval);\r\n});\r\n\r\nonMounted(() => {\r\n  initMap();\r\n  typeEffect();\r\n  cargarDispositivos();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.map-container {\r\n  height: calc(100vh - 60px);\r\n  width: 100%; \r\n  position: relative;\r\n  z-index: 0;\r\n}\r\n\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n  z-index: 2;\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.home .actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  font-size: 1.7rem;\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n  height: 15px;\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n}\r\n\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.dropbtn {\r\n  background-color: var(--sidebar-color);\r\n  color: var(--text-colar);\r\n  padding: 10px 15px;\r\n  font-size: 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  border-radius: 5px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n}\r\n\r\n.dropdown-content {\r\n  display: none;\r\n  position: absolute;\r\n  margin-right: 30px;\r\n  background-color: var(--sidebar-color);\r\n  min-width: 200px;\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\r\n  z-index: 3;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  color: var(--text-colar);\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  transform: translateX(5px);\r\n  color: var(--text-colar);\r\n}\r\n\r\n.dropdown-item i {\r\n  margin-right: 12px;\r\n  font-size: 1.2em;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.tituloo {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.hone2 {\r\n  margin-left: 30px;\r\n  background-color: var(--sidebar-color);\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 25%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 5px 15px;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone2 h1 {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  font-size: 15px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.hone {\r\n  margin-left: 30px;\r\n  width: 17%;\r\n  background-color: var(--sidebar-color);\r\n  height: 280px;\r\n  position: absolute;\r\n  top: 30%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone h1 {\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n\r\n.group {\r\n  display: flex;\r\n  line-height: 28px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  max-width: 250px;\r\n  margin-top: 10px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 40px;\r\n  line-height: 28px;\r\n  padding: 0 1rem;\r\n  padding-left: 2.5rem;\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  outline: none;\r\n  background-color: var(--body-color);\r\n  color: var(--text-color);\r\n  transition: .3s ease;\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-color);\r\n}\r\n\r\n.icon {\r\n  position: absolute;\r\n  left: 1rem;\r\n  fill: var(--text-color);\r\n  width: 1rem;\r\n  height: 1rem;\r\n  font-size: 21px;\r\n}\r\n\r\n.device-list-container {\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n\r\n.device-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.device-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 10px;\r\n  color: var(--text-color);\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-list li:hover {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.device-list li i {\r\n  margin-right: 10px;\r\n  font-size: 21px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-track {\r\n  background: var(--sidebar-color);\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-thumb {\r\n  background-color: var(--body-color);\r\n  border-radius: 3px;\r\n}\r\n\r\n.play-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 20%;\r\n  z-index: 10;\r\n  background-color: var(--body-color);\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 10px var(--body-color);\r\n}\r\n\r\n.player-controls {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 15px;\r\n}\r\n\r\n.control-button {\r\n  background: var(--sidebar-color);\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n  color: var(--text-colar);\r\n  position: relative;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  transition: background-color 0.3s, transform 0.2s;\r\n}\r\n\r\n.control-button:hover {\r\n  background-color: var(--body-color);\r\n  transform: scale(1.1);\r\n}\r\n\r\n</style>\r\n","import script from \"./HistorialView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HistorialView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HistorialView.vue?vue&type=style&index=0&id=21ed0626&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-21ed0626\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n\r\n    <div class=\"crud\">\r\n      <div class=\"titu\">\r\n        <h1><i class='bx bx-car icoon'></i> Mis Dispositivos</h1>\r\n      </div>\r\n\r\n      <div class=\"listad\">\r\n        <div>\r\n          <h1>Lista de Dispositivos</h1>\r\n        </div>\r\n\r\n        <div class=\"boton cssbuttons-io-button\">\r\n          <button @click=\"insertarDispositivo()\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\r\n              <path fill=\"currentColor\" d=\"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z\"></path>\r\n            </svg>\r\n            <span>Agregar Dispositivo</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"cruds\">\r\n        <div class=\"arriba\">\r\n          <div>\r\n            <i class='bx bx-location-plus iconD'></i>\r\n          </div>\r\n          <div class=\"group\">\r\n            <svg class=\"icon\" aria-hidden=\"true\" viewBox=\"0 0 24 24\">\r\n              <g>\r\n                <path\r\n                  d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n                </path>\r\n              </g>\r\n            </svg>\r\n            <input placeholder=\"Buscar\" type=\"search\" class=\"input\" v-model=\"searchTerm\">\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"tabla\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Dispositivo</th>\r\n                <th>Responsable</th>\r\n                <th>IMEI</th>\r\n                <th>Teléfono</th> <!-- Nueva columna -->\r\n                <th>Acción</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(dispositivo, index) in filteredDispositivos\" :key=\"dispositivo._id\">\r\n                <td>{{ index + 1 }}</td>\r\n                <td>{{ dispositivo.deviceName }}</td>\r\n                <td>{{ dispositivo.responsible }}</td>\r\n                <td>{{ dispositivo.imei }}</td>\r\n                <td>{{ dispositivo.phoneNumber }}</td> <!-- Nueva celda -->\r\n               \r\n                <td>\r\n                  <i class='bx bx-edit iconD' @click=\"editarDispositivo(index)\"></i>\r\n                  <i class='bx bx-trash iconD' @click=\"eliminarDispositivo(index)\"></i>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\r\nimport Swal from 'sweetalert2';\r\nimport NavBar from '../components/NavBar.vue';\r\n\r\n// Variables reactivas\r\nconst dropdownOpen = ref(false);\r\nconst searchTerm = ref('');\r\nconst dispositivos = ref([]);\r\nconst displayedText = ref(\"\");\r\n\r\n// Variables para el efecto de texto\r\nconst fullText = \"Navify\";\r\nlet currentIndex = 0;\r\nlet isDeleting = false;\r\nlet typingInterval;\r\n\r\n// Computed properties\r\nconst filteredDispositivos = computed(() => {\r\n  return dispositivos.value.filter(dispositivo =>\r\n    dispositivo.deviceName.toLowerCase().includes(searchTerm.value.toLowerCase())\r\n  );\r\n});\r\n\r\n// Funciones auxiliares\r\nconst typeEffect = () => {\r\n  const current = currentIndex;\r\n\r\n  if (!isDeleting && current < fullText.length) {\r\n    displayedText.value = fullText.slice(0, current + 1);\r\n    currentIndex++;\r\n    if (currentIndex === fullText.length) {\r\n      typingInterval = setTimeout(() => {\r\n        isDeleting = true;\r\n        typeEffect();\r\n      }, 5000);\r\n      return;\r\n    }\r\n  } else if (isDeleting && current > 0) {\r\n    displayedText.value = fullText.slice(0, current - 1);\r\n    currentIndex--;\r\n  } else {\r\n    isDeleting = false;\r\n    currentIndex = 0;\r\n  }\r\n\r\n  const typingSpeed = isDeleting ? 100 : 200;\r\n  typingInterval = setTimeout(typeEffect, typingSpeed);\r\n};\r\n\r\n// Funciones principales\r\nconst cargarDispositivos = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/devices');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    console.log('Respuesta de la API:', data);\r\n    dispositivos.value = data;\r\n  } catch (error) {\r\n    console.error('Error al cargar dispositivos:', error);\r\n  }\r\n};\r\n\r\nconst editarDispositivo = (index) => {\r\n  const dispositivo = dispositivos.value[index];\r\n\r\n  Swal.fire({\r\n    title: 'Editar Dispositivo',\r\n    html: ` \r\n      <input id=\"nombre\" class=\"swal2-input\" placeholder=\"Nombre\" value=\"${dispositivo.deviceName}\">\r\n      <input id=\"responsable\" class=\"swal2-input\" placeholder=\"Responsable\" value=\"${dispositivo.responsible}\">\r\n      <input id=\"imei\" class=\"swal2-input\" placeholder=\"IMEI\" value=\"${dispositivo.imei}\">\r\n      <input id=\"telefono\" class=\"swal2-input\" placeholder=\"Teléfono\" value=\"${dispositivo.phoneNumber || ''}\"> <!-- Nuevo campo -->\r\n      <input id=\"estatus\" class=\"swal2-input\" placeholder=\"Estatus\" value=\"${dispositivo.status}\">\r\n    `,\r\n    focusConfirm: false,\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Guardar',\r\n    cancelButtonText: 'Cancelar',\r\n    preConfirm: () => {\r\n      const nombre = document.getElementById('nombre').value;\r\n      const responsable = document.getElementById('responsable').value;\r\n      const imei = document.getElementById('imei').value;\r\n      const telefono = document.getElementById('telefono').value; // Nuevo campo\r\n      const estatus = document.getElementById('estatus').value;\r\n\r\n      if (!nombre || !responsable || !imei || !estatus) {\r\n        Swal.showValidationMessage('Por favor, complete todos los campos obligatorios.');\r\n        return false;\r\n      }\r\n\r\n      return { \r\n        deviceName: nombre, \r\n        responsible: responsable, \r\n        imei, \r\n        phoneNumber: telefono, // Nuevo campo\r\n        status: estatus \r\n      };\r\n    }\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      fetch(`http://3.12.147.103/devices/${dispositivo._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(result.value)\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Error al editar dispositivo');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          dispositivos.value.splice(index, 1, data);\r\n          console.log('Dispositivo editado:', data);\r\n          Swal.fire('¡Dispositivo editado!', '', 'success');\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error al editar dispositivo:', error);\r\n          Swal.fire('Error', 'No se pudo editar el dispositivo', 'error');\r\n        });\r\n    }\r\n  });\r\n};\r\n\r\nconst eliminarDispositivo = (index) => {\r\n  const dispositivo = dispositivos.value[index];\r\n\r\n  Swal.fire({\r\n    title: '¿Estás seguro?',\r\n    text: `¿Deseas eliminar el dispositivo ${dispositivo.deviceName}?`,\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Eliminar',\r\n    cancelButtonText: 'Cancelar'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      fetch(`http://3.12.147.103/devices/${dispositivo._id}`, {\r\n        method: 'DELETE'\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Error al eliminar dispositivo');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(() => {\r\n          dispositivos.value.splice(index, 1);\r\n          console.log('Dispositivo eliminado:', dispositivo);\r\n          Swal.fire('¡Dispositivo eliminado!', '', 'success');\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error al eliminar dispositivo:', error);\r\n          Swal.fire('Error', 'No se pudo eliminar el dispositivo', 'error');\r\n        });\r\n    }\r\n  });\r\n};\r\n\r\nconst insertarDispositivo = async () => {\r\n  const { value: imei } = await Swal.fire({\r\n    title: 'Agregar Dispositivo',\r\n    html: ` \r\n      <input id=\"nombre\" class=\"swal2-input\" placeholder=\"Nombre del dispositivo\">\r\n      <input id=\"responsable\" class=\"swal2-input\" placeholder=\"Responsable\">\r\n      <input id=\"imei\" class=\"swal2-input\" placeholder=\"IMEI\">\r\n      <input id=\"telefono\" class=\"swal2-input\" placeholder=\"Teléfono\"> <!-- Nuevo campo -->\r\n    `,\r\n    focusConfirm: false,\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Agregar',\r\n    cancelButtonText: 'Cancelar',\r\n    preConfirm: () => {\r\n      const nombre = document.getElementById('nombre').value;\r\n      const responsable = document.getElementById('responsable').value;\r\n      const imei = document.getElementById('imei').value;\r\n      const telefono = document.getElementById('telefono').value; // Nuevo campo\r\n\r\n      if (!nombre || !responsable || !imei) {\r\n        Swal.showValidationMessage('Por favor, complete todos los campos obligatorios.');\r\n        return false;\r\n      }\r\n\r\n      const existingDevice = dispositivos.value.find(device => device.imei === imei);\r\n      if (existingDevice) {\r\n        Swal.showValidationMessage('El IMEI ya está en uso.');\r\n        return false;\r\n      }\r\n\r\n      return { \r\n        deviceName: nombre, \r\n        responsible: responsable, \r\n        imei, \r\n        phoneNumber: telefono, // Nuevo campo\r\n      };\r\n    }\r\n  });\r\n\r\n  if (imei) {\r\n    fetch('http://3.12.147.103/devices', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(imei)\r\n    })\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Error al agregar dispositivo');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        dispositivos.value.push(data);\r\n        Swal.fire('¡Dispositivo agregado!', '', 'success');\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al agregar dispositivo:', error);\r\n        Swal.fire('Error', 'No se pudo agregar el dispositivo', 'error');\r\n      });\r\n  }\r\n};\r\n\r\nconst toggleDropdown = () => {\r\n  dropdownOpen.value = !dropdownOpen.value;\r\n};\r\n\r\n// Hooks del ciclo de vida\r\nonMounted(() => {\r\n  typeEffect();\r\n  cargarDispositivos();\r\n});\r\n\r\nonUnmounted(() => {\r\n  clearTimeout(typingInterval);\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* Estilos generales */\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Estilos de la barra de navegación */\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.dropdown-content {\r\n  background-color: var(--sidebar-color);\r\n  border-radius: 8px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  display: none;\r\n  margin-right: 30px;\r\n  min-width: 200px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  transform: translateY(-10px);\r\n  transition: all 0.3s ease;\r\n  z-index: 3;\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  align-items: center;\r\n  color: var(--text-colar);\r\n  display: flex;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  color: var(--text-colar);\r\n  transform: translateX(5px);\r\n}\r\n\r\n.dropdown-item i {\r\n  font-size: 1.2em;\r\n  margin-right: 12px;\r\n  text-align: center;\r\n  width: 20px;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.dropbtn {\r\n  align-items: center;\r\n  background-color: var(--sidebar-color);\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-size: 16px;\r\n  gap: 5px;\r\n  padding: 10px 15px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.home .actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  font-size: 1.7rem;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n  height: 15px;\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n}\r\n\r\n.titulo {\r\n  display: inline-block;\r\n  min-width: 100px;\r\n}\r\n\r\n/* Estilos de la sección CRUD */\r\n.crud {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.cruds {\r\n  background-color: var(--sidebar-color);\r\n  border-radius: 10px;\r\n  height: 500px;\r\n  margin: 20px 20px;\r\n  padding: 15px;\r\n}\r\n\r\n.cruds .arriba {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.cruds .tabla {\r\n  background-color: var(--sidebar-color);\r\n  margin: 20px 10px;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  padding: 10px 10px;\r\n}\r\n\r\n.cssbuttons-io-button button {\r\n  align-items: center;\r\n  background: var(--body-color);\r\n  border: 1px solid;\r\n  border-radius: 20em;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-family: inherit;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  padding: 0.5em 1.4em;\r\n  transition: box-shadow 0.3s ease;\r\n}\r\n\r\n.cssbuttons-io-button button:active {\r\n  box-shadow: 0 0.3em 1em -0.5em #14a73e98;\r\n}\r\n\r\n.cssbuttons-io-button button:hover {\r\n  box-shadow: 0 0.5em 1.5em -0.5em #d5010198;\r\n}\r\n\r\n.cssbuttons-io-button button svg {\r\n  margin-right: 6px;\r\n}\r\n\r\n.group {\r\n  align-items: center;\r\n  display: flex;\r\n  line-height: 28px;\r\n  max-width: 190px;\r\n  position: relative;\r\n}\r\n\r\n.icon {\r\n  fill: var(--text-colar);\r\n  height: 1rem;\r\n  left: 1rem;\r\n  position: absolute;\r\n  width: 1rem;\r\n}\r\n\r\n.iconD {\r\n  color: var(--text-colar);\r\n  font-size: 30px;\r\n}\r\n\r\n.input {\r\n  background-color: var(--sidebar-color);\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  color: var(--text-colar);\r\n  height: 40px;\r\n  line-height: 28px;\r\n  outline: none;\r\n  padding: 0 1rem;\r\n  padding-left: 2.5rem;\r\n  transition: .3s ease;\r\n  width: 100%;\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-colar);\r\n}\r\n\r\n.listad {\r\n  align-items: center;\r\n  display: flex;\r\n  font-size: 12px;\r\n  justify-content: space-between;\r\n  margin-left: 50px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.listad .boton {\r\n  margin-right: 50px;\r\n}\r\n\r\n.listad h1 {\r\n  color: var(--text-colar);\r\n  font-weight: 400;\r\n}\r\n\r\n.titu {\r\n  display: flex;\r\n  margin-left: 50px;\r\n  margin-top: 40px;\r\n}\r\n\r\n.titu h1 {\r\n  color: var(--text-colar);\r\n}\r\n\r\n.titu h1 i {\r\n  margin-right: 10px;\r\n}\r\n\r\n/* Estilos de la tabla */\r\ntable {\r\n  border-collapse: collapse;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\ntd,\r\nth {\r\n  color: var(--text-colar);\r\n  padding: 15px;\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n\r\n","import script from \"./DispositivoView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DispositivoView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DispositivoView.vue?vue&type=style&index=0&id=3d1c0901&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d1c0901\"]])\n\nexport default __exports__","<template>\r\n    <section class=\"home\">\r\n        <div class=\"overlay\"></div>\r\n        <NavBar />\r\n        <div class=\"report\">\r\n            <div class=\"titu\">\r\n                <h1><i class='bx bxs-report icoon'></i> Reporte del Dispositivo</h1>\r\n            </div>\r\n            <div class=\"search-container\">\r\n                <div class=\"group\">\r\n                    <button class=\"button\" type=\"button\" @click=\"downloadReport\">\r\n                        <span class=\"button__text\">Download</span>\r\n                        <span class=\"button__icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 35 35\"\r\n                                id=\"bdd05811-e15d-428c-bb53-8661459f9307\" data-name=\"Layer 2\" class=\"svg\">\r\n                                <path\r\n                                    d=\"M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z\">\r\n                                </path>\r\n                                <path\r\n                                    d=\"M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z\">\r\n                                </path>\r\n                                <path\r\n                                    d=\"M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,0,1,2.5,0v8.738a.815.815,0,0,0,.814.814H31.436a.815.815,0,0,0,.814-.814V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z\">\r\n                                </path>\r\n                            </svg></span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"select\">\r\n                    <input type=\"text\" readonly\r\n                        :value=\"selectedDevice ? selectedDevice.deviceName : 'Seleccione un dispositivo'\"\r\n                        @click=\"toggleDeviceDropdown\" />\r\n                    <i class=\"arrow\" @click=\"toggleDeviceDropdown\">&#9660;</i>\r\n                </div>\r\n                <ul v-if=\"deviceDropdownOpen\" class=\"dropdown-menu\">\r\n                    <li v-for=\"device in devices\" :key=\"device.imei\" @click=\"selectDevice(device)\">\r\n                        <i class='bx bxs-bus iconn'></i>\r\n                        <span>{{ device.deviceName }}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"tabla\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Notificación</th>\r\n                            <th>Fecha</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"alert in alerts\" :key=\"alert._id\">\r\n                            <td>{{ alert.alertName }}</td>\r\n                            <td>{{formatDate(utc(alert.alertTime)) }}</td>\r\n                        </tr>\r\n                        <tr v-if=\"alerts.length === 0\">\r\n                            <td colspan=\"2\">No hay alertas disponibles</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\r\nimport Swal from 'sweetalert2';\r\nimport { jsPDF } from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport axios from 'axios'\r\nimport imgPath from '../assets/LP.png'; // Importa la imagen aquí\r\nimport iziToast from 'izitoast';\r\nimport NavBar from '../components/NavBar.vue';\r\nimport  { formatDate, utc } from '../../Back-end/utils/formatearFecha';\r\n// Variables reactivas\r\nconst devices = ref([]);\r\nconst deviceDropdownOpen = ref(false);\r\nconst selectedDevice = ref(null);\r\nconst displayedText = ref(\"\");\r\nconst dropdownOpen = ref(false);\r\nconst fullText = \"Navify\";\r\nlet currentIndex = 0;\r\nlet isDeleting = false;\r\nlet typingInterval;\r\nconst isDownloading = ref(false);\r\nconst alerts = ref([]);\r\n\r\nconst cargarDispositivos = async () => {\r\n    try {\r\n        const response = await fetch('http://3.12.147.103/devices');\r\n        if (!response.ok) {\r\n            throw new Error('Error en la respuesta de la API');\r\n        }\r\n        const data = await response.json();\r\n        devices.value = data\r\n    } catch (error) {\r\n        console.error('Error al cargar dispositivos:', error);\r\n    }\r\n};\r\n\r\nconst selectDevice = async (device) => {\r\n    console.log('Dispositivo seleccionado:', device); // Verifica el dispositivo seleccionado\r\n    if (!device.imei) {\r\n        console.error('IMEI del dispositivo no disponible');\r\n        return;\r\n    }\r\n    selectedDevice.value = device;\r\n    deviceDropdownOpen.value = false;\r\n    await cargarAlertas(device.imei); // Llamada para cargar alertas\r\n};\r\n\r\n\r\nconst toggleDeviceDropdown = () => {\r\n    deviceDropdownOpen.value = !deviceDropdownOpen.value;\r\n};\r\n\r\n// Datos de la tabla como un array\r\nconst reportData = ref([\r\n    { placa: \"ABC123\", notificacion: \"Alerta de velocidad\", fecha: \"2023-10-01\" },\r\n    { placa: \"XYZ456\", notificacion: \"Entrada a geozona\", fecha: \"2023-10-02\" },\r\n    { placa: \"LMN789\", notificacion: \"Alerta de batería baja\", fecha: \"2023-10-03\" },\r\n    { placa: \"DEF012\", notificacion: \"Reporte de actividad\", fecha: \"2023-10-04\" },\r\n    { placa: \"GHI345\", notificacion: \"Salida de geozona\", fecha: \"2023-10-05\" },\r\n    { placa: \"JKL678\", notificacion: \"Alerta de conexión\", fecha: \"2023-10-06\" },\r\n    { placa: \"MNO901\", notificacion: \"Reporte de error\", fecha: \"2023-10-07\" },\r\n    { placa: \"PQR234\", notificacion: \"Geozona activada\", fecha: \"2023-10-08\" },\r\n    { placa: \"STU567\", notificacion: \"Alerta de movimiento\", fecha: \"2023-10-09\" },\r\n]);\r\n\r\n// Variable para el buscador\r\nconst searchQuery = ref(\"\");\r\nconst filteredReportData = computed(() => {\r\n    if (!searchQuery.value) {\r\n        return reportData.value;\r\n    }\r\n    return reportData.value.filter(row => {\r\n        return Object.values(row).some(value =>\r\n            String(value).toLowerCase().includes(searchQuery.value.toLowerCase())\r\n        );\r\n    });\r\n});\r\n\r\n// Función para descargar el reporte en PDF\r\nconst downloadReport = () => {\r\n    isDownloading.value = true;\r\n\r\n    const doc = new jsPDF();\r\n\r\n    const img = new Image();\r\n    img.src = imgPath; // Usa la variable importada\r\n\r\n    img.onload = () => {\r\n        doc.addImage(img, 'PNG', 13, 2, 15, 15);\r\n        doc.text(\"Reporte del dispositivo\", 13, 27);\r\n\r\n        // Encabezado de la tabla\r\n        const headers = [[\"Notificación\", \"Fecha\"]];\r\n        const data = filteredReportData.value.map(row => [row.notificacion, row.fecha]);\r\n\r\n        // Establecer el estilo del encabezado\r\n        doc.autoTable({\r\n            head: headers,\r\n            body: data,\r\n            startY: 30, // Ajustar la posición de inicio de la tabla\r\n            theme: 'grid',\r\n            headStyles: { fillColor: [22, 160, 133] }, // Color de fondo del encabezado\r\n            styles: { cellPadding: 5, fontSize: 10 },\r\n        });\r\n\r\n        doc.save(\"reporte_dispositivo.pdf\");\r\n\r\n        setTimeout(() => {\r\n            isDownloading.value = false;\r\n        }, 2000);\r\n    };\r\n\r\n    img.onerror = () => {\r\n        console.error(\"Error al cargar la imagen.\");\r\n        isDownloading.value = false;\r\n    };\r\n};\r\n\r\n// Alterna la visibilidad del menú desplegable principal\r\nconst toggleDropdown = () => {\r\n    dropdownOpen.value = !dropdownOpen.value;\r\n};\r\n\r\n// Crea un efecto de escritura para el texto del título\r\nconst typeEffect = () => {\r\n    const current = currentIndex;\r\n\r\n    if (!isDeleting && current < fullText.length) {\r\n        displayedText.value = fullText.slice(0, current + 1);\r\n        currentIndex++;\r\n        if (currentIndex === fullText.length) {\r\n            typingInterval = setTimeout(() => {\r\n                isDeleting = true;\r\n                typeEffect();\r\n            }, 5000);\r\n            return;\r\n        }\r\n    } else if (isDeleting && current > 0) {\r\n        displayedText.value = fullText.slice(0, current - 1);\r\n        currentIndex--;\r\n    } else {\r\n        isDeleting = false;\r\n        currentIndex = 0;\r\n    }\r\n\r\n    const typingSpeed = isDeleting ? 100 : 200;\r\n    typingInterval = setTimeout(typeEffect, typingSpeed);\r\n};\r\n\r\nconst cargarAlertas = async (imei) => {\r\n    if (!imei) {\r\n        console.error('IMEI no válido');\r\n        return;\r\n    }\r\n    try {\r\n        // Hacer la solicitud para obtener alertas por IMEI\r\n        const response = await fetch(`http://3.12.147.103/devices/alerts/${imei}`);\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Error del servidor:', errorText);\r\n            return;\r\n        }\r\n        const data = await response.json();\r\n        console.log(data); // Verifica los datos recibidos\r\n        alerts.value = data;\r\n\r\n        // Ordenar las alertas por fecha en orden descendente\r\n        alerts.value.sort((a, b) => new Date(b.alertTime) - new Date(a.alertTime));\r\n\r\n        // Mostrar alerta si hay una alerta en la respuesta\r\n        if (data.alert) {\r\n            iziToast.warning({\r\n                title: 'Alerta',\r\n                message: data.alert.alertName,\r\n                position: 'topRight',\r\n                timeout: 5000 // Mostrar la alerta durante 5 segundos\r\n            });\r\n        }\r\n    } catch (error) {\r\n        console.error('Error al cargar alertas:', error);\r\n        alerts.value = [];\r\n    }\r\n};\r\n\r\n\r\n// Llama a la función en el ciclo de vida\r\nonMounted(() => {\r\n    cargarDispositivos();\r\n    typeEffect();\r\n});\r\n\r\nonUnmounted(() => {\r\n    clearTimeout(typingInterval);\r\n});\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.submenu {\r\n    margin-top: 10px;\r\n    position: relative;\r\n}\r\n\r\n.select {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    width: 30%;\r\n}\r\n\r\n.select input {\r\n    width: 100%;\r\n    padding: 12px 15px;\r\n    padding-right: 30px;\r\n    border: 1px solid var(--text-colar);\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    background-color: var(--sidebar-color);\r\n    color: var(--text-colar);\r\n    font-weight: 500;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.select input:hover {\r\n    border-color: var(--primary-color);\r\n}\r\n\r\n.select .arrow {\r\n    position: absolute;\r\n    right: 15px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    color: var(--text-colar);\r\n    pointer-events: none;\r\n    transition: transform 0.3s ease;\r\n}\r\n\r\n.select:hover .arrow {\r\n    transform: translateY(-50%) rotate(180deg);\r\n}\r\n\r\n.dropdown-menu {\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 87%;\r\n    width: 10%;\r\n    background-color: var(--sidebar-color);\r\n    border: 2px solid var(--text-colar);\r\n    border-top: none;\r\n    border-radius: 0 0 8px 8px;\r\n    list-style-type: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    max-height: 200px;\r\n    overflow-y: auto;\r\n    z-index: 10;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dropdown-menu li {\r\n    padding: 12px 15px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    color: var(--text-colar);\r\n    transition: background-color 0.3s ease;\r\n}\r\n\r\n.dropdown-menu li:hover {\r\n    background-color: var(--primary-color-light);\r\n}\r\n\r\n.dropdown-menu .iconn {\r\n    margin-right: 15px;\r\n    font-size: 1.2em;\r\n    color: var(--text-colar);\r\n}\r\n\r\n.home {\r\n    min-height: 160vh;\r\n}\r\n\r\n.home .navar {\r\n    background-color: var(--sidebar-color);\r\n    border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n    position: relative;\r\n    z-index: 2;\r\n}\r\n\r\n.home .actions {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.dropdown {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.dropbtn {\r\n    background-color: var(--sidebar-color);\r\n    color: var(--text-colar);\r\n    padding: 10px 15px;\r\n    font-size: 16px;\r\n    border: none;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n    border-radius: 5px;\r\n    transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n    background-color: var(--body-color);\r\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dropdown-content {\r\n    display: none;\r\n    position: absolute;\r\n    margin-right: 30px;\r\n    background-color: var(--sidebar-color);\r\n    min-width: 200px;\r\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n    z-index: 1;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease;\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n}\r\n\r\n.dropdown-content.show {\r\n    display: block;\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n    color: var(--text-colar);\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: flex;\r\n    align-items: center;\r\n    transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n    background-color: var(--body-color);\r\n    transform: translateX(5px);\r\n    color: var(--text-colar);\r\n}\r\n\r\n.dropdown-item i {\r\n    margin-right: 12px;\r\n    font-size: 1.2em;\r\n    width: 20px;\r\n    text-align: center;\r\n}\r\n\r\n.dropdown-item span {\r\n    font-weight: 500;\r\n}\r\n\r\n/* Separador entre elementos */\r\n.dropdown-item:not(:last-child) {\r\n    border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.actions {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.notification-btn {\r\n    background: none;\r\n    border: none;\r\n    color: var(--text-colar);\r\n    font-size: 1.7rem;\r\n    cursor: pointer;\r\n    margin-right: 15px;\r\n    margin-top: 10px;\r\n    position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n    position: absolute;\r\n    right: -1px;\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: var(--text-colar);\r\n    border-radius: 50%;\r\n}\r\n\r\n.titulo {\r\n    display: inline-block;\r\n    min-width: 100px;\r\n    /* Ajusta según sea necesario */\r\n}\r\n\r\n.titu {\r\n    margin-left: 50px;\r\n    margin-top: 40px;\r\n    display: flex;\r\n    color: var(--text-colar);\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 6px;\r\n}\r\n::-webkit-scrollbar-track {\r\n    background: var(--sidebar-color);\r\n}\r\n::-webkit-scrollbar-thumb {\r\n    background-color: var(--text-colar);\r\n    border-radius: 3px;\r\n}\r\n\r\n.tabla {\r\n    margin: 20px auto;\r\n    width: 90%;\r\n    max-height: 500px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.tabla table {\r\n    width: 100%;\r\n    border: 1px solid var(--text-colar);\r\n    border-radius: 10px;\r\n    border: none;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.tabla th,\r\n.tabla td {\r\n    border: 1px solid var(--text-colar);\r\n    padding: 10px;\r\n    text-align: center;\r\n}\r\n\r\n.tabla th {\r\n    background-color: var(--sidebar-color);\r\n    color: var(--text-colar);\r\n}\r\n\r\n.tabla tr td {\r\n    color: var(--text-colar)\r\n}\r\n\r\n.tabla tr:nth-child(even) {\r\n    background-color: rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.tabla tr:hover {\r\n    background-color: var(--body-color);\r\n}\r\n\r\n.search-container {\r\n    margin: 20px 0px 0px 70px;\r\n    position: relative;\r\n    display: flex;\r\n    width: 90%;\r\n\r\n}\r\n\r\n.search-input {\r\n    width: 20%;\r\n    padding: 10px 10px 10px 40px;\r\n    border: 2px solid var(--text-colar);\r\n    border-radius: 8px;\r\n    outline: none;\r\n    background-color: var(--body-color);\r\n    color: var(--text-color);\r\n    transition: .3s ease;\r\n}\r\n\r\n.search-input::placeholder {\r\n    color: var(--text-color);\r\n}\r\n\r\n.icon {\r\n    position: absolute;\r\n    left: 1rem;\r\n    fill: var(--text-color);\r\n    width: 1rem;\r\n    height: 1rem;\r\n    font-size: 21px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n/* From Uiverse.io by andrew-demchenk0 */\r\n.button {\r\n    position: relative;\r\n    width: 150px;\r\n    height: 40px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    border: 2px solid var(--text-colar);\r\n    box-shadow: 4px 4px var(--text-colar);\r\n    background-color: var(--sidebar-color);\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    color: var(--text-colar);\r\n}\r\n\r\n.button,\r\n.button__icon,\r\n.button__text {\r\n    transition: all 0.3s;\r\n}\r\n\r\n.button .button__text {\r\n    transform: translateX(22px);\r\n    color: var(--text-colar);\r\n    font-weight: 600;\r\n}\r\n\r\n.button .button__icon {\r\n    position: absolute;\r\n    transform: translateX(109px);\r\n    height: 100%;\r\n    width: 39px;\r\n    background-color: var(--body-color);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.button .svg {\r\n    width: 20px;\r\n    fill: var(--text-colar);\r\n}\r\n\r\n.button:hover {\r\n    background: var(--body-color);\r\n}\r\n\r\n.button:hover .button__text {\r\n    color: transparent;\r\n}\r\n\r\n.button:hover .button__icon {\r\n    width: 148px;\r\n    transform: translateX(0);\r\n}\r\n\r\n.button:active {\r\n    transform: translate(3px, 3px);\r\n    box-shadow: 0px 0px var(--main-color);\r\n}\r\n\r\n.group {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 94%;\r\n}\r\n</style>","import script from \"./Reporte2View.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Reporte2View.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Reporte2View.vue?vue&type=style&index=0&id=960057da&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-960057da\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"home\">\r\n    <div class=\"overlay\"></div>\r\n    <NavBar />\r\n    <div id=\"map\" class=\"map-container\"></div>\r\n    <div class=\"hone2\">\r\n      <h1>Rutas</h1>\r\n    </div>\r\n    <div class=\"tituloo\">\r\n      <div class=\"hone\">\r\n        <h1>Seleccionar Ruta</h1>\r\n        <div class=\"group\">\r\n          <svg class=\"icon\" aria-hidden=\"true\" viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path\r\n                d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n              </path>\r\n            </g>\r\n          </svg>\r\n          <input placeholder=\"Buscar\" type=\"search\" class=\"input\" v-model=\"searchQuery\" @input=\"filterResults\">\r\n        </div>\r\n        <div class=\"device-list-container\">\r\n          <ul class=\"device-list\">\r\n            <li @click=\"selectRoute(route)\" v-for=\"route in filteredResults\" :key=\"route._id\">\r\n              <i class='bx bxs-map'></i>\r\n              {{ route.name }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal\" v-if=\"showModal\" @click.self=\"closeModal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeModal\">&times;</span>\r\n        <h2>Guardar Ruta</h2>\r\n        <input v-model=\"routeName\" placeholder=\"Nombre de la ruta\" class=\"inputt\" @keyup.enter=\"saveRoute\" />\r\n        <button @click=\"saveRoute\">Guardar Ruta</button>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"showDeviceModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeDeviceModal\">&times;</span>\r\n        <h2>Seleccionar Dispositivo</h2>\r\n        <ul class=\"device-list-modal\">\r\n          <li v-for=\"device in devices\" :key=\"device.id\" class=\"device-item\">\r\n            <input type=\"checkbox\" :checked=\"selectedDevices.includes(device)\"\r\n              @click.stop=\"toggleDeviceSelection(device)\" />\r\n            {{ device.deviceName }}\r\n          </li>\r\n        </ul>\r\n        <button @click=\"confirmCreateRoute\" class=\"create-button\">Crear Ruta</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"btns\">\r\n      <button id=\"saveRoute\" class=\"boton\">Guardar Ruta</button>\r\n      <button id=\"clearRoute\" class=\"boton\">Limpiar</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport NavBar from '../components/NavBar.vue';\r\nimport * as L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\r\nimport 'leaflet-routing-machine';\r\nimport 'leaflet-control-geocoder/dist/Control.Geocoder.js';\r\nimport iconRetinaUrl from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport iconUrl from 'leaflet/dist/images/marker-icon.png';\r\nimport shadowUrl from 'leaflet/dist/images/marker-shadow.png';\r\nimport Swal from 'sweetalert2';\r\n\r\nlet map;\r\nlet waypoints = [];\r\nlet routeControl = null;\r\nconst searchQuery = ref('');\r\nconst routes = ref([]);\r\nconst filteredResults = ref([]);\r\nconst routeName = ref('');\r\nlet routeid = \"\";\r\nlet routeNamed = \"\"; // Definir routeName como una referencia reactiva\r\n// Definir routeName como una referencia reactiva\r\nconst showModal = ref(false);\r\nconst showDeviceModal = ref(false);\r\nconst devices = ref([]);\r\nconst selectedDevices = ref([]);\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl,\r\n  iconUrl,\r\n  shadowUrl\r\n});\r\n\r\nonMounted(() => {\r\n  cargarRutas();\r\n  cargarDispositivos();\r\n  map = L.map('map').setView([10.9685, -74.7813], 16);\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '© OpenStreetMap contributors'\r\n  }).addTo(map);\r\n\r\n  map.on('click', function (e) {\r\n    const latlng = e.latlng;\r\n    waypoints.push(latlng);\r\n    L.marker(latlng).addTo(map);\r\n\r\n    if (waypoints.length > 1) {\r\n      if (routeControl) {\r\n        map.removeControl(routeControl);\r\n      }\r\n      routeControl = L.Routing.control({\r\n        waypoints: waypoints,\r\n        createMarker: function () { return null; },\r\n        routeWhileDragging: true,\r\n        geocoder: L.Control.Geocoder.nominatim()\r\n      }).addTo(map);\r\n    }\r\n  });\r\n\r\n  const saveRouteButton = document.getElementById('saveRoute');\r\n  if (saveRouteButton) {\r\n    saveRouteButton.addEventListener('click', function () {\r\n      showModal.value = true;\r\n    });\r\n  }\r\n\r\n  const clearRouteButton = document.getElementById('clearRoute');\r\n  if (clearRouteButton) {\r\n    clearRouteButton.addEventListener('click', function () {\r\n      waypoints = [];\r\n      if (routeControl) {\r\n        map.removeControl(routeControl);\r\n        routeControl = null;\r\n      }\r\n      map.eachLayer(function (layer) {\r\n        if (layer instanceof L.Marker) {\r\n          map.removeLayer(layer);\r\n        }\r\n      });\r\n    });\r\n  }\r\n});\r\n\r\nconst cargarRutas = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/routes');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    routes.value = data;\r\n    console.log('Rutas Cargadas:', routes.value);\r\n    filteredResults.value = routes.value;\r\n  } catch (error) {\r\n    console.error('Error al cargar rutas:', error);\r\n  }\r\n};\r\n\r\nconst cargarDispositivos = async () => {\r\n  try {\r\n    const response = await fetch('http://3.12.147.103/devices');\r\n    if (!response.ok) {\r\n      throw new Error('Error en la respuesta de la API');\r\n    }\r\n    const data = await response.json();\r\n    devices.value = data;\r\n  } catch (error) {\r\n    console.error('Error al cargar dispositivos:', error);\r\n  }\r\n};\r\n\r\nconst filterResults = () => {\r\n  const query = searchQuery.value.toLowerCase();\r\n  filteredResults.value = routes.value.filter(route => {\r\n    return route.name.toLowerCase().includes(query);\r\n  });\r\n};\r\n\r\nconst selectRoute = async (route) => {\r\n  console.log('Ruta seleccionada:', route);\r\n\r\n  try {\r\n    const response = await axios.get(`http://3.12.147.103/routes/get-route/${route._id}`);\r\n    const routeData = response.data.waypoints;\r\n    waypoints = routeData.map(point => L.latLng(point.lat, point.lng));\r\n\r\n    const primerPunto = waypoints[0];\r\n    const ultimoPunto = waypoints[waypoints.length - 1];\r\n    console.log('Primer punto:', primerPunto);\r\n    console.log('Último punto:', ultimoPunto);\r\n\r\n    // Crear marcadores para el primer y último punto usando el ícono predeterminado\r\n    L.marker([primerPunto.lat, primerPunto.lng]).addTo(map).bindPopup('Inicio de la ruta: ' + route.name).openPopup;\r\n    L.marker([ultimoPunto.lat, ultimoPunto.lng]).addTo(map).bindPopup('Fin de la ruta: ' + route.name).openPopup;\r\n    if (routeControl) {\r\n      map.removeControl(routeControl);\r\n    }\r\n    routeControl = L.Routing.control({\r\n      waypoints: waypoints,\r\n      createMarker: function () { return null; },\r\n      routeWhileDragging: true,\r\n      geocoder: L.Control.Geocoder.nominatim()\r\n    }).addTo(map);\r\n  } catch (error) {\r\n    console.error('Error al cargar la ruta:', error.message);\r\n    if (error.response) {\r\n      console.error('Error data:', error.response.data);\r\n      console.error('Error status:', error.response.status);\r\n      console.error('Error headers:', error.response.headers);\r\n      alert(`Error al cargar la ruta: ${error.response.data.error}`);\r\n    } else if (error.request) {\r\n      console.error('Error request:', error.request);\r\n      alert('Error al cargar la ruta: No se recibió respuesta del servidor.');\r\n    } else {\r\n      console.error('Error message:', error.message);\r\n      alert(`Error al cargar la ruta: ${error.message}`);\r\n    }\r\n  }\r\n};\r\n\r\nconst closeModal = () => {\r\n  showModal.value = false;\r\n};\r\n\r\nconst closeDeviceModal = () => {\r\n  showDeviceModal.value = false;\r\n};\r\n\r\nconst saveRoute = async () => {\r\n  if (waypoints.length > 1) {\r\n    const route = waypoints.map(point => ({ lat: point.lat, lng: point.lng }));\r\n\r\n    try {\r\n      const response = await axios.post('http://3.12.147.103/routes/save-route', { name: routeName.value, waypoints: route });\r\n      console.log('Ruta guardada:', response.data);\r\n      routeNamed = routeName.value;\r\n      routeid = response.data._id;\r\n      // Mostrar mensaje de confirmación con Swal.fire\r\n      Swal.fire({\r\n        title: 'Ruta guardada',\r\n        text: 'La ruta ha sido guardada exitosamente en la base de datos.',\r\n        icon: 'success',\r\n        confirmButtonText: 'OK'\r\n      });\r\n\r\n      cargarRutas();\r\n      routeName.value = '';\r\n      closeModal();\r\n      waypoints = [];\r\n      map.eachLayer(function (layer) {\r\n        if (layer instanceof L.Marker) {\r\n          map.removeLayer(layer);\r\n        }\r\n      });\r\n      showDeviceModal.value = true; // Mostrar el modal de selección de dispositivos\r\n    } catch (error) {\r\n      console.error('Error al guardar la ruta:', error.message);\r\n      if (error.response) {\r\n        // El servidor respondió con un código de estado fuera del rango 2xx\r\n        console.error('Error data:', error.response.data);\r\n        console.error('Error status:', error.response.status);\r\n        console.error('Error headers:', error.response.headers);\r\n        alert(`Error al guardar la ruta: ${error.response.data.error}`);\r\n      } else if (error.request) {\r\n        // La solicitud fue hecha pero no se recibió respuesta\r\n        console.error('Error request:', error.request);\r\n        alert('Error al guardar la ruta: No se recibió respuesta del servidor.');\r\n      } else {\r\n        // Algo pasó al configurar la solicitud\r\n        console.error('Error message:', error.message);\r\n        alert(`Error al guardar la ruta: ${error.message}`);\r\n      }\r\n    }\r\n  } else {\r\n    alert('Primero debes crear la ruta antes de guardarla.');\r\n  }\r\n};\r\n\r\nconst toggleDeviceSelection = (device) => {\r\n  const index = selectedDevices.value.indexOf(device);\r\n  if (index === -1) {\r\n    selectedDevices.value.push(device);\r\n  } else {\r\n    selectedDevices.value.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst confirmCreateRoute = async () => {\r\n  try {\r\n    const imeis = selectedDevices.value.map(device => device.imei);\r\n    const routeData = {\r\n      name: routeNamed,\r\n      imeis: imeis\r\n    };\r\n\r\n    // Imprimir routeData antes de enviar\r\n    console.log('Datos de la ruta a enviar con dispositivos:', routeData);\r\n\r\n    // Hacer el PUT para actualizar el parámetro routeName de los dispositivos seleccionados\r\n    const putResponse = await axios.put(`http://3.12.147.103/devices/update-route/${routeid}`, routeData);\r\n    console.log('Dispositivos actualizados:', putResponse.data);\r\n\r\n    // Mostrar mensaje de confirmación con Swal.fire\r\n    Swal.fire({\r\n      title: 'Ruta asignada y dispositivos actualizados',\r\n      text: 'La ruta ha sido asignada y los dispositivos han sido actualizados exitosamente.',\r\n      icon: 'success',\r\n      confirmButtonText: 'OK'\r\n    });\r\n\r\n    closeDeviceModal();\r\n  } catch (error) {\r\n    console.error('Error al asignar la ruta y actualizar los dispositivos:', error);\r\n    Swal.fire({\r\n      title: 'Error',\r\n      text: 'Hubo un error al asignar la ruta y actualizar los dispositivos.',\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.map-container {\r\n  height: calc(100vh - 60px);\r\n  width: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.btns {\r\n  margin-left: 30px;\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 75%;\r\n  z-index: 2;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.boton {\r\n  background-color: var(--sidebar-color);\r\n  border: none;\r\n  color: var(--text-color);\r\n  padding: 5px 15px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  border-radius: 12px;\r\n}\r\n\r\n.home {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.actions {\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n\r\n.dropdown {\r\n  display: inline-block;\r\n  position: relative;\r\n}\r\n\r\n.dropdown-content {\r\n  background-color: var(--sidebar-color);\r\n  border-radius: 8px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  display: none;\r\n  margin-right: 30px;\r\n  min-width: 200px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  transform: translateY(-10px);\r\n  transition: all 0.3s ease;\r\n  z-index: 3;\r\n}\r\n\r\n.dropdown-content.show {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  align-items: center;\r\n  color: var(--text-colar);\r\n  display: flex;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  transition: background-color 0.2s, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: var(--body-color);\r\n  color: var(--text-colar);\r\n  transform: translateX(5px);\r\n}\r\n\r\n.dropdown-item i {\r\n  font-size: 1.2em;\r\n  margin-right: 12px;\r\n  text-align: center;\r\n  width: 20px;\r\n}\r\n\r\n.dropdown-item span {\r\n  font-weight: 500;\r\n}\r\n\r\n.dropdown-item:not(:last-child) {\r\n  border-bottom: 1px solid rgba(var(--text-colar-rgb), 0.1);\r\n}\r\n\r\n.dropbtn {\r\n  align-items: center;\r\n  background-color: var(--sidebar-color);\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-size: 16px;\r\n  gap: 5px;\r\n  padding: 10px 15px;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.dropbtn:hover {\r\n  background-color: var(--body-color);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.home .actions {\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n\r\n.home .navar {\r\n  background-color: var(--sidebar-color);\r\n  border-bottom: 3px solid var(--body-color);\r\n}\r\n\r\n.home .text {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.notification-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-colar);\r\n  cursor: pointer;\r\n  font-size: 1.7rem;\r\n  margin-right: 15px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n}\r\n\r\n.notification-indicator {\r\n  background-color: var(--text-colar);\r\n  border-radius: 50%;\r\n  height: 15px;\r\n  position: absolute;\r\n  right: -1px;\r\n  width: 15px;\r\n}\r\n\r\n.coordinates-table {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\n.coordinates-table,\r\n.coordinates-table th,\r\n.coordinates-table td {\r\n  border: 1px solid black;\r\n  font-size: 10px;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\n.iframe-container {\r\n  align-items: center;\r\n  display: flex;\r\n  height: 650px;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.iframe-container iframe {\r\n  position: relative;\r\n  z-index: 0;\r\n}\r\n\r\n.tituloo {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n  z-index: 1;\r\n  top: -475px;\r\n}\r\n\r\n.hone2 {\r\n  margin-left: 30px;\r\n  background-color: var(--sidebar-color);\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 25%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 5px 15px;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone2 h1 {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  font-size: 15px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.hone {\r\n  margin-left: 30px;\r\n  width: 17%;\r\n  background-color: var(--sidebar-color);\r\n  height: 280px;\r\n  position: absolute;\r\n  top: 30%;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid;\r\n}\r\n\r\n.hone h1 {\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n\r\n.group {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  line-height: 28px;\r\n  margin-top: 10px;\r\n  max-width: 250px;\r\n  position: relative;\r\n}\r\n\r\n.input {\r\n  background-color: var(--body-color);\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  color: var(--text-color);\r\n  height: 40px;\r\n  line-height: 28px;\r\n  outline: none;\r\n  padding: 0 1rem;\r\n  padding-left: 2.5rem;\r\n  transition: .3s ease;\r\n  width: 100%;\r\n}\r\n\r\n.input::placeholder {\r\n  color: var(--text-color);\r\n}\r\n\r\n.icon {\r\n  fill: #9e9ea7;\r\n  font-size: 21px;\r\n  height: 1rem;\r\n  left: 1rem;\r\n  position: absolute;\r\n  width: 1rem;\r\n}\r\n\r\n.icoon {\r\n  fill: #9e9ea7;\r\n  font-size: 21px;\r\n  height: 1rem;\r\n  right: 4rem;\r\n  position: relative;\r\n  width: 1rem;\r\n  font-size: 21px;\r\n}\r\n\r\n.device-list-container {\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n\r\n.device-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.device-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 10px;\r\n  color: var(--text-color);\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-list li:hover {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.device-list li i {\r\n  margin-right: 10px;\r\n  font-size: 21px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-track {\r\n  background: var(--sidebar-color);\r\n}\r\n\r\n.device-list-container::-webkit-scrollbar-thumb {\r\n  background-color: var(--body-color);\r\n  border-radius: 3px;\r\n}\r\n\r\n.generate-route-btn {\r\n  padding: 4px;\r\n  border-radius: 5px;\r\n  border: 1px solid var(--text-color);\r\n  margin-right: 5px;\r\n  color: var(--text-color);\r\n  background-color: var(--sidebar-color);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n}\r\n\r\n.dark-mode-table {\r\n  background-color: #333;\r\n  color: #fff;\r\n  border: 1px solid #444;\r\n}\r\n\r\n.dark-mode-table th,\r\n.dark-mode-table td {\r\n  border: 1px solid #444;\r\n}\r\n\r\n.dark-mode-table th {\r\n  background-color: #444;\r\n}\r\n\r\n.dark-mode-table tr:nth-child(even) {\r\n  background-color: #555;\r\n}\r\n\r\n.dark-mode-table tr:nth-child(odd) {\r\n  background-color: #666;\r\n}\r\n\r\n/* Fondo del modal con efecto de desenfoque */\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(5px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n/* Contenido del modal */\r\n.modal-content {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 16px;\r\n  width: 90%;\r\n  max-width: 400px;\r\n  position: relative;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);\r\n  transform: translateY(0);\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n/* Título del modal */\r\n.modal-content h2 {\r\n  color: #2d3436;\r\n  margin: 0 0 1.5rem 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n/* Botón de cerrar */\r\n.close {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  font-size: 1.5rem;\r\n  color: #a0aec0;\r\n  cursor: pointer;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  background: #f7fafc;\r\n}\r\n\r\n.close:hover {\r\n  background: #edf2f7;\r\n  color: #4a5568;\r\n  transform: rotate(90deg);\r\n}\r\n\r\n/* Input personalizado */\r\n.inputt {\r\n  width: 100%;\r\n  padding: 0.8rem 1rem;\r\n  border: 2px solid #edf2f7;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  color: #4a5568;\r\n  transition: all 0.2s ease;\r\n  margin-bottom: 1.5rem;\r\n  outline: none;\r\n}\r\n\r\n.inputt:focus {\r\n  border-color: #4299e1;\r\n  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);\r\n}\r\n\r\n.inputt::placeholder {\r\n  color: #a0aec0;\r\n}\r\n\r\n/* Botón de guardar */\r\n.modal-content button {\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n  background: var(--sidebar-color);\r\n  color: var(--text-colar);\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.modal-content button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(66, 153, 225, 0.2);\r\n}\r\n\r\n.modal-content button:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Animaciones */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Animación de salida */\r\n.modal.closing {\r\n  animation: fadeOut 0.3s ease forwards;\r\n}\r\n\r\n.modal.closing .modal-content {\r\n  animation: slideOut 0.3s ease forwards;\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes slideOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n}\r\n\r\n\r\n.device-list-modal {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.device-item {\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  margin: 5px 0;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.device-item:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.create-button {\r\n  background-color: #4CAF50;\r\n  /* Verde */\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 10px 15px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-top: 10px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.create-button:hover {\r\n  background-color: #45a049;\r\n  /* Verde más oscuro */\r\n}\r\n</style>","import script from \"./RutasView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RutasView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RutasView.vue?vue&type=style&index=0&id=0da0386c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0da0386c\"]])\n\nexport default __exports__","// router/index.ts\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport TiempoReal from '../views/TiempoReal.vue';\nimport GeozonasView from '../views/GeozonasView.vue';\nimport HistorialView from '../views/HistorialView.vue';\nimport DispositivoView from '../views/DispositivoView.vue';\nimport Barralateral from '../components/BarraLateral.vue';\nimport Reporte2View from '../views/Reporte2View.vue';\nimport RutasView from '../views/RutasView.vue';\nconst routes = [\n    {\n        path: '/',\n        redirect: '/Home', // Redirige la ruta raíz '/' a '/Home'\n    },\n    {\n        path: '/Home',\n        name: 'Home',\n        component: HomeView\n    },\n    {\n        path: '/tiempo_real',\n        name: 'tiempo_real',\n        component: TiempoReal\n    },\n    {\n        path: '/geozona',\n        name: 'geozona',\n        component: GeozonasView\n    },\n    {\n        path: '/historial',\n        name: 'historial',\n        component: HistorialView\n    },\n    {\n        path: '/dispositivo',\n        name: 'dispositivo',\n        component: DispositivoView\n    },\n    {\n        path: '/barralateral',\n        name: 'Barralateral',\n        component: Barralateral\n    },\n    {\n        path: '/reporte2',\n        name: 'reporte2',\n        component: Reporte2View\n    },\n    {\n        path: '/rutas',\n        name: 'rutas',\n        component: RutasView\n    }\n];\nconst router = createRouter({\n    history: createWebHistory(process.env.BASE_URL),\n    routes\n});\nexport default router;\n","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-box\">\r\n      <div class=\"logo\">\r\n        <img :src=\"require('../assets/satellite.png')\" alt=\"Satellite logo\" class=\"satellite-logo\">\r\n        <h1>Inicia Sesión</h1>\r\n      </div>\r\n\r\n      <form @submit.prevent=\"login\" class=\"login-form\">\r\n        <h2 ref=\"typedText\" class=\"typed-text\">{{ displayText }}</h2>\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" v-model=\"email\" required>\r\n          <label>Correo electrónico</label>\r\n          <i class=\"fas fa-envelope\"></i>\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <input type=\"password\" v-model=\"password\" required>\r\n          <label>Contraseña</label>\r\n          <i class=\"fas fa-lock\"></i>\r\n        </div>\r\n        <button type=\"submit\" class=\"login-btn\">\r\n          Iniciar Sesión <i class=\"fas fa-arrow-right\"></i>\r\n        </button>\r\n      </form>\r\n    </div>\r\n    <div class=\"map-overlay\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineEmits, onMounted } from 'vue';\r\nimport Swal from 'sweetalert2';\r\nimport '../styles_App/login.css';\r\nimport router from '../router';\r\n\r\n\r\nconst emit = defineEmits(['loginSuccess']);\r\nconst email = ref('');\r\nconst password = ref('');\r\nconst displayText = ref('');\r\nconst text = \"Descubre con Navify GPS\"; \r\nlet index = 0;\r\n\r\nconst login = async () => {\r\n    try {\r\n        const response = await fetch('http://3.12.147.103/auth/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ email: email.value, password: password.value }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n            localStorage.setItem('isAuthenticated', 'true');\r\n            router.push({ name: 'Home' });\r\n            emit('loginSuccess'); \r\n        } else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Credenciales incorrectas',\r\n                text: data.message || 'Por favor, verifica tu usuario y contraseña',\r\n            });\r\n        }\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error del servidor',\r\n            text: 'No se pudo conectar con el servidor. Intenta nuevamente.',\r\n        });\r\n    }\r\n};\r\n\r\n\r\nconst typeWriter = () => {\r\n  if (index < text.length) {\r\n    displayText.value += text.charAt(index);\r\n    index++;\r\n    setTimeout(typeWriter, 100);\r\n  } else {\r\n    setTimeout(() => {\r\n      displayText.value = \"\";\r\n      index = 0;\r\n      typeWriter();\r\n    }, 5000);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  typeWriter();\r\n});\r\n</script>\r\n\r\n","import script from \"./LoginM.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginM.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <LoginM v-if=\"!isAuthenticated\" @loginSuccess=\"isAuthenticated = true\" />\r\n    <BarraLateral v-else />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport BarraLateral from './components/BarraLateral.vue';\r\nimport LoginM from './components/LoginM.vue';\r\n\r\nconst isAuthenticated = ref(false); \r\n\r\nonMounted(() => {\r\n  document.title = 'Navify';\r\n  if (localStorage.getItem('isAuthenticated') === 'true') {\r\n    isAuthenticated.value = true;\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createStore } from 'vuex';\nexport default createStore({\n    state: {},\n    getters: {},\n    mutations: {},\n    actions: {},\n    modules: {}\n});\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport accidente from './assets/accidente.jpg';\nimport radar from './assets/radar-de-velocidad.png';\nimport mapas from './assets/mapas.png';\nimport freno from './assets/freno.png';\n// Configurar WebSocket\nconst ws = new WebSocket('ws://3.12.147.103');\nws.onmessage = (event) => {\n    const notificacion = JSON.parse(event.data);\n    (notificacion.notificationType == \"maxSpeed\")\n        ? iziToast.info({\n            title: 'Notificación',\n            message: notificacion.notificationName || 'Nueva notificación',\n            position: 'bottomRight',\n            image: radar,\n            timeout: 5000 // Mostrar la alerta durante 5 segundos\n        }) : (notificacion.notificationType == \"control\") ?\n        iziToast.info({\n            title: 'Notificación',\n            message: notificacion.notificationName || 'Nueva notificación',\n            position: 'bottomRight',\n            image: freno,\n            timeout: 5000 // Mostrar la alerta durante 5 segundos\n        }) : (notificacion.notificationType == \"hardBraking\") ?\n        iziToast.warning({\n            title: 'Notificación',\n            message: notificacion.notificationName || 'Nueva notificación',\n            position: 'bottomRight',\n            image: accidente,\n            timeout: 5000 // Mostrar la alerta durante 5 segundos\n        }) : (notificacion.notificationType == \"geozone\") ?\n        iziToast.info({\n            title: 'Notificación',\n            message: notificacion.notificationName || 'Nueva notificación',\n            position: 'bottomRight',\n            image: mapas,\n            timeout: 5000 // Mostrar la alerta durante 5 segundos\n        }) : null;\n};\nws.onclose = () => {\n    console.log('WebSocket cerrado. Reintentando...');\n    setTimeout(() => {\n        const newWs = new WebSocket('ws://3.12.147.103');\n        window.ws = newWs;\n    }, 5000);\n};\nws.onerror = (error) => {\n    console.error('Error en WebSocket:', error);\n};\nwindow.ws = ws;\nconst app = createApp(App);\napp.config.globalProperties.$ws = ws;\napp.use(store).use(router).mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"354\":\"14c7021b\",\"668\":\"756aba08\",\"838\":\"1eb43080\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"gps:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgps\"] = self[\"webpackChunkgps\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(887); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["isSidebarClosed","ref","isDarkMode","modeText","isReportDropdownOpen","isBetaVisible","toggleSidebar","value","toggleDarkMode","document","body","classList","toggle","closeSidebarOnClickOutside","event","sidebar","querySelector","dropdown","contains","target","addEventListener","logout","localStorage","removeItem","window","location","reload","toggleReportDropdown","__exports__","emit","__emit","close","modalContent","add","setTimeout","handleImageUpload","input","files","reader","FileReader","onload","e","result","profileImage","style","backgroundImage","readAsDataURL","currentPassword","newPassword","confirmPassword","email","changePassword","console","log","Swal","title","text","icon","addEmail","html","confirmButtonText","preConfirm","getElementById","formatDate","fechaInicial","fecha","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","utc","fechaColombia","fechaLocal","diferenciaUTC","fechaUTC","getTime","toISOString","notifications","showMenu","toggleMenu","markAsRead","index","read","cargarNotificaciones","async","response","fetch","ok","errorText","error","data","json","nuevasAlertas","filter","alerta","some","a","_id","length","sort","b","notificationTime","clearNotifications","method","onMounted","ws","WebSocket","onmessage","notificacion","JSON","parse","alert","push","onclose","newWs","onerror","fullText","dropdownOpen","showProfileCard","showPaswordCard","showNotificationModal","displayedText","typingInterval","currentIndex","isDeleting","toggleDropdown","toggleProfileCard","togglePaswordCard","toggleNotificationModal","typeEffect","current","slice","typingSpeed","onUnmounted","clearTimeout","scrollToFeatures","featuresElement","scrollIntoView","behavior","map","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","deviceName","fixTimeDOM","speedDOM","ignitionDOM","chargingDOM","searchQuery","devices","filteredResults","initMap","colombia","lat","lng","mapOptions","center","zoom","setView","attribution","addTo","filterResults","query","toLowerCase","item","includes","showDeviceOnMap","lon","fixTime","speed","ignition","charging","name","undefined","eachLayer","layer","removeLayer","invalidateSize","startTracking","device","imei","Error","onopen","send","stringify","sendCommand","axios","get","commandNumber","message","showAlert","responsible","status","showCancelButton","cancelButtonText","then","isConfirmed","cuadro","display","cargarDispositivos","drawnItems","geozones","selectedGeozone","geozoneShapes","routingControl","coordinates","showModal","showDeviceModal","geozoneName","selectedDevices","marker","bindPopup","openPopup","cargarGeozonas","maxZoom","pm","addControls","position","drawPolygon","drawPolyline","drawRectangle","drawCircle","drawCircleMarker","drawMarker","editMode","deleteMode","createZone","on","addLayer","getLatLng","radius","getRadius","getLatLngs","showGeozoneOnMap","geozone","clearLayers","type","vertices","vertex","fitBounds","getBounds","_permanent","selectGeozone","id","forEach","closeModal","toggleDeviceSelection","indexOf","splice","saveGeozone","geozoneData","latlng","post","confirmCreateGeozona","imeis","put","intervalId","setInterval","devicea","clearInterval","removeControl","playbackSpeed","polyline","playbackInterval","width","startDate","startTime","endDate","endTime","startDateTime","endDateTime","showHistory","params","historyData","Array","isArray","coordenadas","point","color","updateMarker","formattedTime","setLatLng","interval","recordingCoords","playRecording","coord","getZoom","pauseRecording","resetRecording","searchTerm","dispositivos","filteredDispositivos","computed","dispositivo","editarDispositivo","phoneNumber","focusConfirm","nombre","responsable","telefono","estatus","headers","catch","eliminarDispositivo","insertarDispositivo","existingDevice","find","deviceDropdownOpen","selectedDevice","isDownloading","alerts","selectDevice","cargarAlertas","toggleDeviceDropdown","reportData","placa","filteredReportData","row","Object","values","downloadReport","doc","jsPDF","img","Image","src","imgPath","addImage","autoTable","head","startY","theme","headStyles","fillColor","styles","cellPadding","fontSize","save","alertTime","iziToast","alertName","timeout","waypoints","routeControl","routes","routeName","routeid","routeNamed","cargarRutas","control","createMarker","routeWhileDragging","geocoder","Geocoder","nominatim","saveRouteButton","clearRouteButton","route","selectRoute","routeData","primerPunto","ultimoPunto","request","closeDeviceModal","saveRoute","confirmCreateRoute","putResponse","path","redirect","component","HomeView","TiempoReal","GeozonasView","HistorialView","DispositivoView","Barralateral","Reporte2View","RutasView","router","createRouter","history","createWebHistory","process","password","displayText","login","setItem","typeWriter","charAt","isAuthenticated","getItem","createStore","state","getters","mutations","actions","modules","notificationType","notificationName","image","radar","freno","accidente","mapas","app","createApp","App","config","globalProperties","$ws","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","key","r","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","this","ns","create","def","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","nc","setAttribute","onScriptComplete","prev","doneFns","parentNode","removeChild","bind","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}